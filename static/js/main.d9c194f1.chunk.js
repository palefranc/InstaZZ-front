(this.webpackJsonpmy_react_app=this.webpackJsonpmy_react_app||[]).push([[0],{149:function(e,t,a){e.exports=a(294)},154:function(e,t,a){},155:function(e,t,a){},180:function(e,t,a){},186:function(e,t){},188:function(e,t){},225:function(e,t){},226:function(e,t){},282:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(34),o=a.n(r),i=(a(154),a(54)),A=a.n(i),c=(a(155),a(142)),l=a.n(c),u=a(3),m=a.n(u),p=a(8),d=a(13),h=a(14),g=a(16),f=a(15),v=a(17),b=a(55),E=a.n(b),k=a(143),w=a.n(k).a.create({baseURL:"https://zzinsta.herokuapp.com"}),y=(a(180),a(63)),I=a.n(y),S=a(32),C=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={image:void 0,post:e.post,modifiable:e.modifiable,new_commentaire:"",desc_new_post:"",message:""},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"test",value:function(){alert(this.state.message)}},{key:"componentDidMount",value:function(){}},{key:"parseImage",value:function(e){var t=e.split(";");return console.log(t.length),console.log(t[0]),console.log(t[1]),console.log(t[2]),{path:t[1],src:e}}},{key:"getImage",value:function(e,t,a){console.log("image charg\xe9e"),a.setState({image:t[0]})}},{key:"showImage",value:function(){var e=void 0;return this.state.image&&(e=s.a.createElement("img",{className:"apercuImage",src:this.state.image})),e}},{key:"publicatePost",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(t.target),new Date,!(s=localStorage.getItem("token"))){e.next=17;break}return r={method:"PUT",headers:{Authorization:"Bearer "+s,"Content-Type":"multipart/form-data"},data:n,url:"/posts/"},e.prev=6,e.next=9,w(r);case 9:o=e.sent,console.log(o),o&&(i=o.data,console.log(o.data),i&&(window.location="https://palefranc.github.io/InstaZZ-front/profil/")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),e.t0.response&&e.t0.response.data&&(e.t0.response.data.error?e.t0.response.data.error.message?(console.log(e.t0.response.data.error.message),"Echec de l'Authentification"==e.t0.response.data.error.message?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/auth/"):console.error(e.t0.response.data.error.message),this.setState({message:e.t0.response.data.error.message})):this.setState({message:e.t0.response.data.error}):this.setState({message:e.t0.response.data}));case 17:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updatePost",value:function(e){this.setState({desc_new_post:e})}},{key:"getLikes",value:function(){var e=this,t=void 0,a=localStorage.getItem("token");if(a){var n=S.verify(a,"zzInstaSecretKey");t=this.state.post.refUser==n.userId?s.a.createElement("div",{className:"like"},s.a.createElement("img",{className:"like_logo",src:I.a}),this.state.post.likes.length):this.state.post.likes.includes(n.userId)?s.a.createElement("div",{className:"like on",onClick:function(t,a){return e.removeLike(t,e)}},s.a.createElement("img",{className:"like_img",src:I.a}),": ",this.state.post.likes.length):s.a.createElement("div",{className:"like off",onClick:function(t,a){return e.addLike(t,e)}},s.a.createElement("img",{className:"like_img",src:I.a}),": ",this.state.post.likes.length)}return t}},{key:"addLike",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),s={method:"POST",headers:{Authorization:"Bearer "+n},data:{id:a.state.post._id},url:"/posts/addLike/"},e.prev=2,e.next=5,w(s);case 5:(r=e.sent)&&(console.log(r),console.log(r.data),(o=S.verify(n,"zzInstaSecretKey"))?((i=a.state.post).likes.push(o.userId),a.setState({post:i})):console.error("Probl\xe8me de d\xe9codage")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&("Echec de l'Authentification"==e.t0.response.data.message?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/auth/"):console.error(e.t0.response.data.message),a.setState({message:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeLike",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),s={method:"POST",headers:{Authorization:"Bearer "+n},data:{id:a.state.post._id},url:"/posts/removeLike/"},e.prev=2,e.next=5,w(s);case 5:(r=e.sent)&&(S.verify(n,"zzInstaSecretKey")?((o=a.state.post).likes=r.data.likes,a.setState({post:o}),console.log(a.state.post.likes)):console.error("Probl\xe8me de d\xe9codage")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&("Echec de l'Authentification"==e.t0.response.data.message?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/auth/"):console.error(e.t0.response.data.message),a.setState({message:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addCommentaire",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("token"),console.log(a.state.new_commentaire),!n){e.next=15;break}return S.verify(n,"zzInstaSecretKey"),s={method:"POST",headers:{Authorization:"Bearer "+n},data:{id:a.state.post._id,text:a.state.new_commentaire},url:"/posts/addComment/"},e.prev=5,e.next=8,w(s);case 8:(r=e.sent)&&(console.log(r),console.log(r.data),r.data&&(o=r.data,a.setState({post:o,new_commentaire:""}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),e.t0.response&&("Echec de l'Authentification"==e.t0.response.data.message?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/auth/"):console.error(e.t0.response.data.message),a.setState({message:e.t0.response.data.message}));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"changeCommentaire",value:function(e,t){e&&e.target&&t.setState({new_commentaire:e.target.value})}},{key:"removeCommentaire",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a,n){var s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),r={method:"POST",headers:{Authorization:"Bearer "+s},data:{id:a.state.post._id,idComment:n},url:"/posts/removeComment/"},e.prev=2,e.next=5,w(r);case 5:(o=e.sent)&&a.setState({post:o.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&("Echec de l'Authentification"==e.t0.response.data.message?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/auth/"):console.error(e.t0.response.data.message),a.setState({message:e.t0.response.data.message}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAddCommentaire",value:function(){var e=this,t=void 0,a=localStorage.getItem("token");if(a){var n=S.verify(a,"zzInstaSecretKey");this.state.post.refUser!=n.userId&&(t=s.a.createElement("div",{className:"input_commentaire"},s.a.createElement("textarea",{id:"input_text_commentaire",className:"form-control mb-4",rows:"3",cols:"25",placeholder:"Commentaire...",value:this.state.new_commentaire,onChange:function(t,a){return e.changeCommentaire(t,e)}}),s.a.createElement("button",{className:"btn btn-info my-4 btn-block button_commentaire",onClick:function(t,a){return e.addCommentaire(t,e)}},"Publier")))}return t}},{key:"getCommentaireAffichage",value:function(e){var t=this,a=void 0,n=localStorage.getItem("token"),r=S.verify(n,"zzInstaSecretKey");return r&&(a=e.refUser!=r.userId?s.a.createElement("div",{className:"commentaire"},e.text):s.a.createElement("div",{className:"commentaire"},e.text,s.a.createElement("button",{className:"btn btn-info btn-block remove_commentaire",onClick:function(a,n,s){return t.removeCommentaire(a,t,e._id)}},"Supprimer"))),a}},{key:"render",value:function(){var e,t=this,a=this;if(this.state.modifiable||void 0==this.state.post)e=s.a.createElement("div",{className:"ajout_publication"},s.a.createElement("div",{className:"errorMessage"},this.state.message),s.a.createElement("form",{onSubmit:function(e,a){t.publicatePost(e,t)}},s.a.createElement(E.a,{name:"postImage",withIcon:!0,multiple:!1,optimisticPreviews:!0,buttonText:"Chargez une image",onChange:function(e,a){return t.getImage(e,a,t)},imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880}),this.showImage(),s.a.createElement("br",null),s.a.createElement("textarea",{type:"text",name:"description",rows:"3",cols:"25",placeholder:"Ecrivez ici",className:"input_description",value:this.state.desc_new_post,onChange:function(e){return t.updatePost(e.target.value)}}),s.a.createElement("div",{className:"button_action"},s.a.createElement("button",{type:"submit",className:"btn btn-info my-4 btn-block button_publication"},"Publier"),s.a.createElement("button",{className:"btn btn-info my-4 btn-block button_annuler",onClick:function(){window.location="https://palefranc.github.io/InstaZZ-front/profil"}},"Retour"))));else{var n=new Date(this.state.post.date);e=s.a.createElement("div",{className:"publication"},s.a.createElement("img",{src:"https://zzinsta.herokuapp.com"+this.state.post.image,alt:"https://zzinsta.herokuapp.com"+this.state.post.image,className:"image_publication"}),s.a.createElement("p",null,n.toISOString().substring(0,10)," \xe0 ",n.toISOString().substring(11,16)," ",s.a.createElement("br",null),this.state.post.description," ",s.a.createElement("br",null)),this.getLikes(),this.getAddCommentaire(),this.state.post.comments.map((function(e){return a.getCommentaireAffichage(e)})))}return e}}]),t}(n.Component),N=(a(282),a(45)),x=a.n(N),P=a(32),_=function(e){function t(e){var a;return Object(d.a)(this,t),a=Object(g.a)(this,Object(f.a)(t).call(this,e)),console.log(e.idUser),a.state={is_on_mur:e.on_mur,id_user:e.idUser,message:"",activePage:1,nbTotalElement:0,listPubli:[]},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")?this.getListPublication(1):window.location="https://palefranc.github.io/InstaZZ-front/auth/"}},{key:"getListPublication",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,s,r,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Array,n=localStorage.getItem("token"),s=void 0,(r=P.verify(n,"zzInstaSecretKey"))&&(s=this.state.id_user&&this.state.id_user!=r.userId?{method:"GET",headers:{Authorization:"Bearer "+n},params:{page:t},url:"/posts/user/"+this.state.id_user}:this.state.is_on_mur?{method:"GET",headers:{Authorization:"Bearer "+n},params:{page:t},url:"/posts/Abonnements/"}:{method:"GET",headers:{Authorization:"Bearer "+n},params:{page:t,per_page:5},url:"/posts"}),e.prev=5,e.next=8,w(s);case 8:o=e.sent,console.log(o),o&&((i=o.data.posts)&&(console.log(i),i.forEach((function(e){return a.push(e)}))),a.sort((function(e,t){return t.date-e.date})),this.setState({listPubli:a,nbTotalElement:o.data.total})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),e.t0.response?e.t0.response.data?e.t0.response.data.message?"Echec de l'Authentification"==e.t0.response.data.message?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/auth/"):(console.error(e.t0.response.data.message),this.setState({message:e.t0.response.data.message})):this.setState({message:e.t0.response.data}):this.setState({message:e.t0.response}):this.setState({message:e.t0});case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePost",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a,n){var s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("token"),r={method:"DELETE",headers:{Authorization:"Bearer "+s},data:{id:n._id},url:"/posts/"+n._id},console.log(r),e.prev=3,e.next=6,w(r);case 6:e.sent&&(o=a.state.listPubli.filter((function(e){return e._id!=n._id})),a.setState({listPubli:o})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response&&("Echec de l'Authentification"==e.t0.response.data.message?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/auth/"):console.error(e.t0.response.data.message),a.setState({message:e.t0.response.data.message}));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"confirmDeletePost",value:function(e,t,a){window.confirm("Etes vous s\xfbr de vouloir supprimer ce post ?")?this.deletePost(e,t,a):e.preventDefault()}},{key:"getOnePublicationAffichage",value:function(e){var t=this,a=void 0,n=localStorage.getItem("token");if(n){var r=P.verify(n,"zzInstaSecretKey");r&&(a=e.refUser==r.userId?s.a.createElement("div",{className:"user_publication"},s.a.createElement(C,{post:e}),s.a.createElement("button",{className:"btn btn-info my-4 btn-block button_supprimer",onClick:function(a,n,s){return t.confirmDeletePost(a,t,e)}},"Supprimer le post"),s.a.createElement("hr",null)):s.a.createElement("div",null,s.a.createElement(C,{post:e}),s.a.createElement("hr",null)))}return a}},{key:"changePage",value:function(e,t){console.log(e),t.getListPublication(e)}},{key:"getPublicationsAffichage",value:function(){var e=this,t=(s.a.createElement("div",null),this);return void 0!=this.state.listPubli&&0!=this.state.listPubli.length?s.a.createElement("div",{className:"list_publications"},s.a.createElement("div",{className:"errorMessage"},this.state.message),this.state.listPubli.map((function(e){return t.getOnePublicationAffichage(e)})),s.a.createElement(x.a,{activePage:this.state.activePage,itemsCountPerPage:5,totalItemsCount:this.state.nbTotalElement,pageRangeDisplayed:5,onChange:function(t,a){return e.changePage(t,e)}})):this.state.message&&""!=this.state.message?s.a.createElement("div",{className:"errorMessage"},this.state.message):s.a.createElement("div",{className:"message_empty"},"Aucun post \xe0 afficher")}},{key:"render",value:function(){return s.a.createElement("div",null,this.getPublicationsAffichage())}}]),t}(n.Component),R=a(38),O=(a(285),a(32)),j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={message:"",user:e.user,change_current_user:e.change_user,parent:e.parent},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"subscribe",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),s={method:"POST",headers:{Authorization:"Bearer "+n},data:{id:a._id},url:"/users/addAbonement/"},e.prev=2,e.next=5,w(s);case 5:r=e.sent,console.log(r),window.alert("Demande d'abonnements envoy\xe9e"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.t0.response&&"Echec de l'Authentification"==e.t0.response.data.message&&(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"),this.setState({message:e.t0.response.data.message});case 15:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),s={method:"POST",headers:{Authorization:"Bearer "+n},data:{id:a._id},url:"/users/removeAbonement/"},e.prev=2,e.next=5,w(s);case 5:r=e.sent,console.log(r),r&&200==r.status&&r.data&&(console.log(r.data),o=r.data,this.state.parent.setState({currentUser:o}),this.setState({users:o.abonnements})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.t0.response&&"Echec de l'Authentification"==e.t0.response.data.message&&(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"),this.setState({message:e.t0.response.data.message});case 15:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"removeSubscriber",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),s={method:"POST",headers:{Authorization:"Bearer "+n},data:{id:a._id},url:"/users/removeAbonnee/"},e.prev=2,e.next=5,w(s);case 5:r=e.sent,console.log(r),r&&200==r.status&&r.data&&(console.log(r.data),o=r.data,console.log(this.state.parent),this.state.parent.setState({currentUser:o})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.t0.response&&"Echec de l'Authentification"==e.t0.response.data.message&&(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"),this.setState({message:e.t0.response.data.message});case 15:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getBoutonRemoveAbonne",value:function(e){var t=this,a=void 0,n=localStorage.getItem("token"),r=O.verify(n,"zzInstaSecretKey");return this.state.user&&this.state.user.abonnements.includes(r.userId)&&(a=s.a.createElement("button",{className:"btn btn-info my-4 btn-block button_desabonner",onClick:function(a,n){return t.removeSubscriber(a,e)}},"Desabonner")),a}},{key:"render",value:function(){var e=this,t=localStorage.getItem("token"),a=O.verify(t,"zzInstaSecretKey");return this.state.user&&this.state.user.abonn\u00e9es.includes(a.userId)?s.a.createElement("div",{className:"button_action"},s.a.createElement("button",{className:"btn btn-info my-4 btn-block button_abonner",onClick:function(t,a){return e.unsubscribe(t,e.state.user)}},"Se desabonner"),this.getBoutonRemoveAbonne(this.state.user)):s.a.createElement("div",{className:"button_action"},s.a.createElement("button",{className:"btn btn-info my-4 btn-block button_desabonner",onClick:function(t,a){return e.subscribe(t,e.state.user)}},"S'abonner"),this.getBoutonRemoveAbonne(this.state.user))}}]),t}(n.Component),B=(a(286),a(32)),D=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={user:e.in_user,posts:[],modified_user:e.in_user,modif:!1},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.user){e.next=18;break}if(t=void 0,this.props&&this.props.match&&this.props.match.params&&this.props.match.params.idUser&&(t=this.props.match.params.idUser),console.log(t),a=void 0,n=localStorage.getItem("token"),t?(console.log("Il faut afficher le user "+t),a={method:"GET",headers:{Authorization:"Bearer "+n},url:"/users/user/"+t}):n?a={method:"GET",headers:{Authorization:"Bearer "+n},url:"/users/user/"}:window.location="https://palefranc.github.io/InstaZZ-front/auth/",!a){e.next=18;break}return e.prev=8,e.next=11,w(a);case 11:(s=e.sent)&&(r=s.data)&&this.setState({user:r}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),e.t0.response&&(401==Number(e.t0.response.status)?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"):500==Number(e.t0.response.status)&&console.error(e.t0.response.data.message));case 18:this.state.modif||(this.state.modified_user=this.state.user);case 19:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"addPost",value:function(e,t){console.log(t.state),window.location="https://palefranc.github.io/InstaZZ-front/addpost/"}},{key:"toggleModif",value:function(e,t){var a=!t.state.modif;t.setState({modif:a}),this.state.modified_user=this.state.user}},{key:"changeField",value:function(e,t){switch(e.target.id){case"defaultRegisterFormLastName":t.setState({modified_user:Object(R.a)({},t.state.modified_user,{username:e.target.value})});break;case"input_desc":t.setState({modified_user:Object(R.a)({},t.state.modified_user,{bio:e.target.value})});break;case"defaultRegisterFormEmail":t.setState({modified_user:Object(R.a)({},t.state.modified_user,{email:e.target.value})});break;case"defaultRegisterFormPassword":t.setState({modified_user:Object(R.a)({},t.state.modified_user,{password:e.target.value})})}}},{key:"getChoicePrivacy",value:function(){var e=this;return"private"==this.state.modified_user.status?s.a.createElement("div",{className:"select_privacy"},s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"public",name:"status",value:"public",onChange:function(t){e.changePrivacy(t)}}),s.a.createElement("label",null,"Public")),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"private",name:"status",value:"private",checked:!0,onChange:function(t){e.changePrivacy(t)}}),s.a.createElement("label",null,"Priv\xe9e"))):s.a.createElement("div",{className:"select_privacy"},s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"public",name:"status",value:"public",checked:!0,onChange:function(t,a){e.changePrivacy(t,e)}}),s.a.createElement("label",null,"Public")),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"private",name:"status",value:"private",onChange:function(t,a){e.changePrivacy(t,e)}}),s.a.createElement("label",null,"Priv\xe9e")))}},{key:"changePrivacy",value:function(e){console.log(e.target.value),this.setState({modified_user:Object(R.a)({},this.state.modified_user,{status:e.target.value})})}},{key:"saveModif",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Array,a.state.user.username!=a.state.modified_user.username&&n.push({propName:"username",value:a.state.modified_user.username}),a.state.user.bio!=a.state.modified_user.bio&&n.push({propName:"bio",value:a.state.modified_user.bio}),a.state.user.email!=a.state.modified_user.email&&n.push({propName:"email",value:a.state.modified_user.email}),a.state.user.password!=a.state.modified_user.password&&n.push({propName:"password",value:a.state.modified_user.password}),a.state.user.status!=a.state.modified_user.status&&n.push({propName:"status",value:a.state.modified_user.status}),!(s=localStorage.getItem("token"))){e.next=21;break}return r={method:"POST",headers:{Authorization:"Bearer "+s},data:n,url:"/users/"},e.prev=9,e.next=12,w(r);case 12:e.sent&&a.setState({modif:!1,user:a.state.modified_user}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),e.t0.response&&(401==e.t0.response.status?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"):console.error(e.t0.response.data.message));case 19:e.next=22;break;case 21:window.location="https://palefranc.github.io/InstaZZ-front/auth/";case 22:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"confirmDelete",value:function(e,t){window.confirm("Attention ! Votre profil, et tout son contenu seront d\xe9finitivement supprim\xe9s ! \nEtes vous s\xfbr ?")?this.deleteUser(e,t):e.preventDefault()}},{key:"deleteUser",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("token"))){e.next=15;break}return s={method:"DELETE",headers:{Authorization:"Bearer "+n},url:"/users/"},e.prev=3,e.next=6,w(s);case 6:e.sent&&(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response&&(401==e.t0.response.status?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"):500==e.t0.response.status&&console.error(e.t0.response.data.message));case 13:e.next=16;break;case 15:window.location="https://palefranc.github.io/InstaZZ-front/auth/";case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getInfosQuantite",value:function(){var e=localStorage.getItem("token");return B.verify(e,"zzInstaSecretKey").userId==this.state.user._id?s.a.createElement("div",{className:"infos_quantite"},s.a.createElement("div",{className:"nb_post"},this.state.posts.length,s.a.createElement("br",null)," posts"),s.a.createElement("a",{className:"nb_abonnees",href:"https://palefranc.github.io/InstaZZ-front/users/abonnes"},this.state.user.abonn\u00e9es.length,s.a.createElement("br",null)," abonn\xe9s"),s.a.createElement("br",null),s.a.createElement("a",{className:"nb_abonnements",href:"https://palefranc.github.io/InstaZZ-front/users/abonnements"},this.state.user.abonnements.length,s.a.createElement("br",null)," abonnements"),s.a.createElement("br",null),s.a.createElement("a",{className:"nb_demandes",href:"https://palefranc.github.io/InstaZZ-front/users/demandes"},this.state.user.demandes.length,s.a.createElement("br",null)," demandes")):s.a.createElement("div",{className:"infos_quantite"},s.a.createElement("div",{className:"nb_post"},this.state.posts.length,s.a.createElement("br",null)," posts"),s.a.createElement("div",{className:"nb_abonnees"},this.state.user.abonn\u00e9es.length,s.a.createElement("br",null)," abonn\xe9s"),s.a.createElement("br",null),s.a.createElement("div",{className:"nb_abonnements"},this.state.user.abonnements.length,s.a.createElement("br",null)," abonnements"))}},{key:"getPrivacy",value:function(){var e=void 0;return"private"==this.state.user.status&&(e=s.a.createElement("div",{className:"privacy"},"Utilisateur priv\xe9")),e}},{key:"getButtonsAction",value:function(){var e=this,t=localStorage.getItem("token"),a=B.verify(t,"zzInstaSecretKey");return console.log(this.state.user),a.userId==this.state.user._id?s.a.createElement("div",{className:"infos_user3"},s.a.createElement("button",{className:"btn btn-info btn-block my-4",onClick:function(t,a,n){return e.toggleModif(t,e,e.state.user)}},"Modifier les infos"),s.a.createElement("button",{className:"btn btn-info btn-block my-4",onClick:function(t,a){return e.addPost(t,e)}},"Ajouter un post")):s.a.createElement(j,{user:this.state.user})}},{key:"getPublications",value:function(){var e=localStorage.getItem("token");B.verify(e,"zzInstaSecretKey");return s.a.createElement(_,{idUser:this.state.user._id,on_mur:!1})}},{key:"getButtonDelete",value:function(){var e=this,t=void 0,a=localStorage.getItem("token");return B.verify(a,"zzInstaSecretKey").userId==this.state.user._id&&(t=s.a.createElement("button",{className:"btn btn-info btn-block my-4 button_delete_user",onClick:function(t,a){return e.confirmDelete(t,e)}},"Supprimer profil")),t}},{key:"getInfoUser",value:function(){return s.a.createElement("div",{className:"user"},s.a.createElement("div",{className:"infos_user"},s.a.createElement("img",{className:"photo_profil",src:"https://zzinsta.herokuapp.com"+this.state.user.image,alt:""}),s.a.createElement("div",{className:"infos_user2"},this.getInfosQuantite(),s.a.createElement("div",{className:"user_name"},this.state.user.username),"description : ",this.state.user.bio,s.a.createElement("br",null),"email : ",this.state.user.email,s.a.createElement("br",null),this.getPrivacy()),this.getButtonsAction()),s.a.createElement("div",{className:"publications_user"},s.a.createElement("hr",null),this.getPublications(),this.getButtonDelete()))}},{key:"getModifUser",value:function(){var e=this;return s.a.createElement("div",{className:"input_infos_user"},s.a.createElement("form",{className:"text-center border border-light p-5",onSubmit:function(t,a){return e.saveModif(t,e)}},s.a.createElement("p",{className:"h4 mb-4"},"Modifier les informations vous concernant : "),s.a.createElement("div",{className:"form-row mb-4"},s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",id:"defaultRegisterFormLastName",className:"form-control",placeholder:"User name",value:this.state.modified_user.username,onChange:function(t,a){return e.changeField(t,e)}}))),s.a.createElement("textarea",{id:"input_desc",className:"form-control mb-4",rows:"3",cols:"25",placeholder:"Description",value:this.state.modified_user.bio,onChange:function(t,a){return e.changeField(t,e)}}),s.a.createElement("input",{type:"email",id:"defaultRegisterFormEmail",className:"form-control mb-4",placeholder:"E-mail",value:this.state.modified_user.email,onChange:function(t,a){return e.changeField(t,e)}}),s.a.createElement("input",{type:"password",id:"defaultRegisterFormPassword",className:"form-control",placeholder:"Password","aria-describedby":"defaultRegisterFormPasswordHelpBlock",onChange:function(t,a){return e.changeField(t,e)}}),s.a.createElement("small",{id:"defaultRegisterFormPasswordHelpBlock",className:"form-text text-muted mb-4"},"At least 8 characters and 1 digit"),this.getChoicePrivacy(),s.a.createElement("hr",null),s.a.createElement("button",{type:"submit",className:"btn btn-info my-4 btn-block"},"Enregistrer"),s.a.createElement("button",{className:"btn btn-info my-4 btn-block",onClick:function(t,a){return e.toggleModif(t,e)}},"Annuler")))}},{key:"render",value:function(){var e=s.a.createElement("div",null);return this.state.user&&(e=this.state.modif?this.getModifUser():this.getInfoUser()),e}}]),t}(n.Component),Z=(a(287),a(32)),M=function(e){function t(e){var a;Object(d.a)(this,t),a=Object(g.a)(this,Object(f.a)(t).call(this,e));var n="";return void 0!=(n=localStorage.getItem("token_search"))&&""!=n?localStorage.removeItem("token_search"):n="",a.state={show:e.list_type,message:"",text_search:n,currentUser:void 0,users:void 0,activePage:1,nbTotalElement:0},console.log("valeur text : "+a.state.text_search),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"update_user",value:function(e){this.setState({currentUser:e})}},{key:"getListUsers",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,s,r,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this,!(a=localStorage.getItem("token"))){e.next=17;break}return n=void 0,n=this.state.text_search&&""!=this.state.text_search?{method:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},params:{page:t,per_page:5},url:"/users/find/"+this.state.text_search}:{method:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},params:{page:t,per_page:5},url:"/users/UsersList"},console.log(n),e.prev=6,e.next=9,w(n);case 9:(s=e.sent)&&(r=s.data.users,console.log(r),r&&r.users&&r.users.length>0&&(o=r.users,i=r.total,this.setState({users:o,activePage:t,nbTotalElement:i}))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0),e.t0.response?e.t0.response.data?"Echec de l'Authentification"==e.t0.response.data.message?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"):this.setState({message:e.t0.response.data}):this.setState({message:e.t0.response}):this.setState({message:e.t0});case 17:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("token"))){e.next=15;break}return a={method:"GET",headers:{Authorization:"Bearer "+t},url:"/users/user"},e.prev=3,e.next=6,w(a);case 6:(n=e.sent)&&(s=n.data)&&("abonnes"==this.state.show?this.setState({currentUser:s,users:s.abonn\u00e9es,nbTotalElement:s.abonn\u00e9es.length}):"abonnements"==this.state.show?this.setState({currentUser:s,users:s.abonnements,nbTotalElement:s.abonn\u00e9es.length}):this.setState({currentUser:s})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),e.t0.response&&"Echec de l'Authentification"==e.t0.response.data.message&&(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"),this.setState({message:e.t0.response.data.message});case 15:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.state.currentUser||this.getCurrentUser(),this.state.users||"research"!=this.state.show||this.getListUsers(this.state.activePage)}},{key:"getBoutonSubscribe",value:function(e){s.a.createElement("div",null);var t=localStorage.getItem("token"),a=Z.verify(t,"zzInstaSecretKey");return e._id==a.userId?s.a.createElement("p",{className:"ItsMe"},"C'est moi"):s.a.createElement(j,{user:e,change_user:this.update_user,parent:this})}},{key:"getAbonnee",value:function(e){var t=void 0;return this.state.currentUser&&this.state.currentUser.abonn\u00e9es.includes(e)&&(t=s.a.createElement("div",null,"S'est abonn\xe9(e) \xe0 moi")),t}},{key:"changePage",value:function(e,t){console.log(e),"research"==this.state.show.toLocaleString()&&t.getListUsers(e)}},{key:"getPagination",value:function(){var e=this,t=void 0;return this.state.users.length>0&&(t=s.a.createElement(x.a,{activePage:this.state.activePage,itemsCountPerPage:5,totalItemsCount:this.state.nbTotalElement,pageRangeDisplayed:5,onChange:function(t,a){return e.changePage(t,e)}})),t}},{key:"showList",value:function(){var e=this;return this.state.users&&this.state.users.length>0?s.a.createElement("div",null,s.a.createElement("div",{className:"errorMessage"},this.state.message),s.a.createElement("div",{className:"list_users"},e.state.users.map((function(t){var a="https://palefranc.github.io/InstaZZ-front/profil/"+t._id;return s.a.createElement("div",{className:"list_users_element"},s.a.createElement("img",{className:"photo_profil",src:"https://zzinsta.herokuapp.com"+t.image,alt:""}),s.a.createElement("div",{className:"list_users_element2"},s.a.createElement("a",{className:"user_name",href:a},t.username),s.a.createElement("br",null),t.email,s.a.createElement("br",null),e.getAbonnee(t),e.getBoutonSubscribe(t)),s.a.createElement("hr",null))})),this.getPagination())):"abonnes"==this.state.show?s.a.createElement("div",{className:"message_empty"},"Personne n'est abonn\xe9 \xe0 vous"):"abonnements"==this.state.show?s.a.createElement("div",{className:"message_empty"},"Vous n'\xeates abonn\xe9 \xe0 aucun utilisateur"):s.a.createElement("div",{className:"message_empty"},"Aucun utilisateur n'a \xe9t\xe9 trouv\xe9")}},{key:"showDetails",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"errorMessage"},this.state.message),s.a.createElement(D,{in_user:this.state.users[0]}))}},{key:"render",value:function(){return"abonnes"==this.state.show&&this.state.currentUser?this.state.users=this.state.currentUser.abonn\u00e9es:"abonnements"==this.state.show&&this.state.currentUser&&(this.state.users=this.state.currentUser.abonnements),this.showList()}}]),t}(n.Component),z=(a(288),a(32),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={message:"",demandes:void 0,activePage:1,nbTotalElement:0},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.state.demandes||this.getDemandes(1)}},{key:"getDemandes",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this,a=localStorage.getItem("token"),void 0,!a){e.next=15;break}return n={method:"GET",headers:{Authorization:"Bearer "+a},url:"/users/user/"},e.prev=5,e.next=8,w(n);case 8:(s=e.sent)&&(r=s.data,console.log(r),r&&r.demandes&&this.setState({demandes:r.demandes})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),e.t0.response&&(401==Number(e.t0.response.status)?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"):500==Number(e.t0.response.status)&&console.error(e.t0.response.data.message));case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"acceptDemande",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("token"),void 0,console.log(a),!n){e.next=16;break}return s={method:"POST",headers:{Authorization:"Bearer "+n},data:{id:a._id},url:"/users/acceptAbonement/"},console.log(s),e.prev=6,e.next=9,w(s);case 9:(r=e.sent)&&(console.log(r),r.data&&(o=r.data,console.log(o),this.setState({demandes:o.demandes}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),e.t0.response&&(401==Number(e.t0.response.status)?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"):500==Number(e.t0.response.status)&&console.error(e.t0.response.data.message));case 16:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"refuseDemande",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("token"),void 0,!n){e.next=14;break}return s={method:"POST",headers:{Authorization:"Bearer "+n},data:{id:a._id},url:"/users/declineAbonement/"},e.prev=4,e.next=7,w(s);case 7:(r=e.sent)&&(console.log(r),r.data&&(o=r.data,this.setState({demandes:o.demandes}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0.response&&(401==Number(e.t0.response.status)?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front/"):500==Number(e.t0.response.status)&&console.error(e.t0.response.data.message));case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getButtons",value:function(e){var t=this;s.a.createElement("div",null);return s.a.createElement("div",{className:"button_action_demande"},s.a.createElement("button",{className:"btn btn-info btn-block button_accepter_demande",onClick:function(a,n){return t.acceptDemande(a,e)}},"Accepter"),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-info btn-block button_refuser_demande",onClick:function(a,n){return t.refuseDemande(a,e)}},"Refuser"))}},{key:"showListDemandes",value:function(){var e=this;return this.state.demandes&&this.state.demandes.length>0?s.a.createElement("div",null,s.a.createElement("div",{className:"errorMessage"},this.state.message),s.a.createElement("div",{className:"list_demandes"},e.state.demandes.map((function(t){var a="https://palefranc.github.io/InstaZZ-front/profil/"+t._id;return s.a.createElement("div",{className:"demande_element"},s.a.createElement("img",{className:"photo_profil",src:"https://zzinsta.herokuapp.com/"+t.image,alt:""}),s.a.createElement("div",{className:"demande_element2"},s.a.createElement("a",{href:a},t.username),s.a.createElement("br",null),t.email,s.a.createElement("br",null)),e.getButtons(t))})))):s.a.createElement("div",{className:"message_empty"},"Aucune demande n'a \xe9t\xe9 trouv\xe9e")}},{key:"render",value:function(){return this.showListDemandes()}}]),t}(n.Component)),U=(a(289),a(56)),Q=(a(32),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={auth:e.authentified,input_user_name:"",input_description:"",input_email:"",input_pwd:"",input_image:void 0,message:"",creationUser:e.signup},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&(window.location="https://palefranc.github.io/InstaZZ-front/profil/")}},{key:"login",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",data:{email:this.state.input_email,password:this.state.input_pwd},url:"/users/login/"},e.prev=1,e.next=4,w(t);case 4:(a=e.sent)&&a.data?(n=a.data.token,localStorage.setItem("token",n),this.setState({auth:!0})):this.setState({message:"Erreur donn\xe9es re\xe7ues"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.t0.response?(console.log(e.t0.response),e.t0.response.data?(console.log(e.t0.response.data),e.t0.response.data.massage?this.setState({message:e.t0.response.data.massage}):this.setState({message:e.t0.response.data})):this.setState({message:e.t0.response})):this.setState({message:"erreur"});case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"changeMail",value:function(e){this.setState({input_email:e.target.value})}},{key:"changePwd",value:function(e){this.setState({input_pwd:e.target.value})}},{key:"getImage",value:function(e,t,a){console.log("image charg\xe9e"),a.setState({input_image:t[0]})}},{key:"showImage",value:function(){var e=void 0;return this.state.input_image&&(e=s.a.createElement("img",{className:"apercuImage",src:this.state.input_image})),e}},{key:"authUser",value:function(e,t){e.preventDefault(),t.login()}},{key:"createUser",value:function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,s,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),localStorage.getItem("token"),n=new FormData(t.target),s={method:"POST",headers:{"Content-Type":"multipart/form-data"},data:n,url:"/users/signup"},console.log(s),e.prev=5,e.next=8,w(s);case 8:(r=e.sent)&&(console.log(r),console.log(r.data),o=r.data.user,a.login(),o&&(console.log(o.username),console.log(o.email),console.log(o.password)),window.alert("Votre compte a bien \xe9t\xe9 cr\xe9\xe9"),window.location="https://palefranc.github.io/InstaZZ-front"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),e.t0.response&&(e.t0.response.data&&e.t0.response.data.message?401==e.t0.response.status?(localStorage.removeItem("token"),window.location="https://palefranc.github.io/InstaZZ-front"):(this.setState({message:e.t0.response.data.message}),console.error(e.t0.response.data.message)):this.setState({message:e.t0.response}));case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getChoicePrivacy",value:function(){var e=this;return this.state.input_is_private?s.a.createElement("div",{className:"select_privacy"},s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"public",name:"status",value:"public",onChange:function(t){e.changePrivacy(t)}}),s.a.createElement("label",null,"Public")),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"private",name:"status",value:"private",checked:!0,onChange:function(t){e.changePrivacy(t)}}),s.a.createElement("label",null,"Priv\xe9e"))):s.a.createElement("div",{className:"select_privacy"},s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"public",name:"status",value:"public",onChange:function(t,a){e.changePrivacy(t,e)}}),s.a.createElement("label",null,"Public")),s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"private",name:"status",value:"private",onChange:function(t,a){e.changePrivacy(t,e)}}),s.a.createElement("label",null,"Priv\xe9e")))}},{key:"changePrivacy",value:function(e){console.log(e.target.value),"private"==e.target.value?this.setState({privacy:!0}):"public"==e.target.value&&this.setState({privacy:!1})}},{key:"getErrorMessage",value:function(){var e=void 0;return this.state.message&&""!=this.state.message&&(e=s.a.createElement("div",{className:"error_message"},this.state.message)),e}},{key:"activeCreation",value:function(e,t){t.state.message="",t.setState({creationUser:!0})}},{key:"desactiveCreation",value:function(e,t){t.state.message="",t.setState({creationUser:!1})}},{key:"getAutComp",value:function(){var e=this;return s.a.createElement("div",{className:"login"},s.a.createElement("div",{className:"blank"},s.a.createElement("img",{src:A.a,alt:"logo",className:"logo"})),s.a.createElement("form",{className:"text-center border border-light p-5",onSubmit:function(t,a){return e.authUser(t,e)}},s.a.createElement("p",{className:"h4 mb-4"},"Connexion"),s.a.createElement("input",{type:"email",id:"defaultLoginFormEmail",className:"form-control mb-4",placeholder:"E-mail",onChange:function(t){e.changeMail(t)}}),s.a.createElement("input",{type:"password",id:"defaultLoginFormPassword",className:"form-control mb-4",placeholder:"Mot de passe",onChange:function(t){e.changePwd(t)}}),this.getErrorMessage(),s.a.createElement("button",{className:"btn btn-info btn-block my-4",type:"submit"},"Connexion"),s.a.createElement("p",null,"Pas encore membre?",s.a.createElement("br",null),s.a.createElement("a",{href:"/InstaZZ-front/auth/signup"},"S'inscrire"))))}},{key:"getCreateUser",value:function(){var e=this;return s.a.createElement("div",{className:"signup"},s.a.createElement("form",{className:"text-center border border-light p-5",onSubmit:function(t,a){return e.createUser(t,e)}},s.a.createElement("p",{className:"h4 mb-4"},"S'inscrire"),s.a.createElement("div",{className:"form-row mb-4"},s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",id:"defaultRegisterFormLastName",className:"form-control",name:"username",placeholder:"Pseudo"}))),s.a.createElement(E.a,{name:"profileImage",withIcon:!0,multiple:!1,optimisticPreviews:!0,buttonText:"Chargez une image",onChange:function(t,a){return e.getImage(t,a,e)},imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880}),this.showImage(),s.a.createElement("input",{type:"email",id:"defaultRegisterFormEmail",className:"form-control mb-4",name:"email",placeholder:"E-mail"}),s.a.createElement("input",{type:"password",id:"defaultRegisterFormPassword",className:"form-control",name:"password",placeholder:"Mot de passe","aria-describedby":"defaultRegisterFormPasswordHelpBlock"}),s.a.createElement("small",{id:"defaultRegisterFormPasswordHelpBlock",className:"form-text text-muted mb-4"},"At least 8 characters and 1 digit"),s.a.createElement("textarea",{id:"input_text_commentaire",className:"form-control mb-4",name:"bio",rows:"3",cols:"25",placeholder:"Parlez de vous..."}),this.getChoicePrivacy(),s.a.createElement("button",{className:"btn btn-info my-4 btn-block",type:"submit"},"Sign in")))}},{key:"render",value:function(){return this.state.auth?s.a.createElement(D,null):this.state.creationUser?this.getCreateUser():this.getAutComp()}}]),t}(U.a)),G=a(46),F=a(147),L=a(148),T=a(58),Y=a(85),K=a(30),H="https://palefranc.github.io/InstaZZ-front",V=function(){return s.a.createElement("h2",null,"About")},J=function(){return s.a.createElement(M,{list_type:"research"})},W=function(){return s.a.createElement(M,{list_type:"abonnes"})},X=function(){return s.a.createElement(M,{list_type:"abonnements"})},q=function(){return s.a.createElement(z,null)},$=function(){return s.a.createElement(D,null)},ee=function(){return s.a.createElement(_,{on_mur:!0})},te=function(){return s.a.createElement(C,{modifiable:!0})},ae=function(){return s.a.createElement(Q,{authentified:!1,signup:!1})},ne=function(){return s.a.createElement(Q,{authentified:!1,signup:!0})};function se(e){localStorage.setItem("token_search",e.target.value)}function re(e){window.location=H+"/users/"}function oe(e){localStorage.removeItem("token"),window.location=H}var ie=function(){l.a.config(),console.log("25");var e="/InstaZZ-front";return s.a.createElement(U.a,null,s.a.createElement("div",null,s.a.createElement(F.a,{bg:"dark",variant:"dark"},s.a.createElement("a",{href:H+"/"},s.a.createElement("img",{src:A.a,alt:"InstaZZ",id:"logo"})),s.a.createElement(G.a,{className:"mr-auto"},s.a.createElement(G.a.Link,{href:"https://palefranc.github.io/InstaZZ-front/profil/"},"Profil"),s.a.createElement(G.a.Link,{href:"https://palefranc.github.io/InstaZZ-front/posts/"},"Mur"),s.a.createElement(G.a.Link,{href:"https://palefranc.github.io/InstaZZ-front/users/demandes"},"Demandes")),s.a.createElement(L.a,{inline:!0},s.a.createElement(T.a,{type:"text",placeholder:"Cherchez un utilisateur",className:"mr-sm-2",onChange:se}),s.a.createElement(Y.a,{variant:"outline-info",onClick:re},"Rechercher")),s.a.createElement(Y.a,{variant:"outline-info",id:"deconnexion",onClick:oe},"Deconnexion")),s.a.createElement(K.c,null,s.a.createElement(K.a,{path:e+"/",exact:!0,component:ae}),s.a.createElement(K.a,{path:e+"",exact:!0,component:ae}),s.a.createElement(K.a,{path:e+"/auth/signup",component:ne}),s.a.createElement(K.a,{path:e+"/auth/",component:ae}),s.a.createElement(K.a,{path:e+"/about/",component:V}),s.a.createElement(K.a,{path:e+"/profil/:idUser",component:D}),s.a.createElement(K.a,{path:e+"/profil/",component:$}),s.a.createElement(K.a,{path:e+"/users/demandes",component:q}),s.a.createElement(K.a,{path:e+"/users/abonnements",component:X}),s.a.createElement(K.a,{path:e+"/users/abonnes",component:W}),s.a.createElement(K.a,{path:e+"/users/",component:J}),s.a.createElement(K.a,{path:e+"/posts/",component:ee}),s.a.createElement(K.a,{path:e+"/addpost/",component:te}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(293);o.a.render(s.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},54:function(e,t,a){e.exports=a.p+"static/media/logo_transparent.3a50b41b.png"},63:function(e,t){e.exports="data:image/png;base64,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"}},[[149,1,2]]]);
//# sourceMappingURL=main.d9c194f1.chunk.js.map