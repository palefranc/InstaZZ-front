{"version":3,"sources":["url/url_bdd.js","composants/Publication.js","composants/ListPublications.js","composants/Abonnement.js","composants/User.js","composants/Users.js","composants/Demandes.js","composants/AuthRouter.js","App.js","serviceWorker.js","index.js","assets/logo_transparent.png","assets/logo_like.png"],"names":["axios","create","baseURL","jwt","require","Publication","props","state","image","undefined","post","modifiable","new_commentaire","desc_new_post","message","alert","this","imgString","attributes","split","console","log","length","path","src","ev","img","context","setState","comp","className","preventDefault","formDatas","FormData","target","Date","token","localStorage","getItem","optionReq","method","headers","Authorization","data","url","res","newPost","window","location","process","response","error","removeItem","decoded","verify","refUser","userId","logo_like","likes","includes","onClick","removeLike","addLike","id","_id","push","text","comments","date","value","idComm","idComment","rows","cols","placeholder","onChange","changeCommentaire","addCommentaire","commentaire","idCom","removeCommentaire","onSubmit","publicatePost","name","withIcon","multiple","optimisticPreviews","buttonText","getImage","imgExtension","maxFileSize","showImage","type","event","updatePost","d","alt","toISOString","substring","description","getLikes","getAddCommentaire","map","comment","getCommentaireAffichage","Component","ListPublications","idUser","is_on_mur","on_mur","id_user","activePage","nbTotalElement","listPubli","getListPublication","listPublications","Array","params","page","per_page","posts","forEach","sort","post1","post2","total","newListPosts","filter","p","confirm","deletePost","in_post","confirmDeletePost","getOnePublicationAffichage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","changePage","getPublicationsAffichage","Abonnement","user","change_current_user","change_user","parent","options","status","currentUser","users","abonnements","us","removeSubscriber","abonnées","unsubscribe","getBoutonRemoveAbonne","subscribe","User","in_user","modified_user","modif","match","Number","new_modif","username","bio","email","password","changePrivacy","checked","modifiedChamps","propName","deleteUser","href","demandes","oldUser","toggleModif","addPost","confirmDelete","getInfosQuantite","getPrivacy","getButtonsAction","getPublications","getButtonDelete","saveModif","changeField","aria-describedby","getChoicePrivacy","getModifUser","getInfoUser","Users","show","list_type","text_search","in_page","filteredUsers","totalElements","getCurrentUser","getListUsers","update_user","toLocaleString","getAbonnee","getBoutonSubscribe","getPagination","showList","Demandes","getDemandes","demande","dem","acceptDemande","refuseDemande","getButtons","showListDemandes","AuthRouter","auth","authentified","input_user_name","input_description","input_email","input_pwd","input_image","creationUser","signup","setItem","massage","login","values","get","resp","input_is_private","privacy","logo","authUser","changeMail","changePwd","getErrorMessage","createUser","getCreateUser","getAutComp","Router","base_url","About","users_list","users_list_abonnees","users_list_abonnements","users_list_demandes","user_profil","posts_list","new_post","auth_signup","setText","search","deconnexion","App","dotenv","config","Navbar","bg","variant","Nav","Link","Form","inline","FormControl","Button","exact","component","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.b56561a8.chunk.js","sourcesContent":["// JavaScript source code\r\n\r\nimport axios from 'axios';\r\n\r\nexport default axios.create({\r\n    //baseURL: 'mongodb://asmaadb:asmaadb@myappdb-shard-00-00-ygnlh.mongodb.net:27017,myappdb-shard-00-01-ygnlh.mongodb.net:27017,myappdb-shard-00-02-ygnlh.mongodb'\r\n    baseURL: 'http://localhost:5000',\r\n})","import React, { Component } from \"react\";\r\nimport ImagesUploader from 'react-images-upload';\r\nimport axios from '../url/url_bdd';\r\nimport './Publication.css';\r\nimport logo_like from '../assets/logo_like.png';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\n\r\nexport default class Publication extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n      this.state = {\r\n\t\t  image: undefined,\r\n          post: props.post,\r\n          modifiable: props.modifiable,\r\n\t\t  new_commentaire: \"\",\r\n\t\t  desc_new_post: \"\",\r\n\t\t  message: \"\"\r\n      };\r\n  }\r\n\r\n  test() {\r\n    alert(this.state.message);\r\n  }\r\n  \r\n  componentDidMount() {\r\n\t  //var token_id = localStorage.getItem(\"token_id\");\r\n\t  //this.setState({idUser: token_id});\r\n\t  //this.setState({ post: { date: \"\", description: \"\", image: \"\", likes: [], comments:[] } })\r\n  }\r\n  \r\n\tparseImage(imgString)\r\n\t{\r\n\t\tvar img = undefined;\r\n\t\t\r\n\t\tconst attributes = imgString.split(';');\r\n\t\tconsole.log(attributes.length);\r\n\t\tconsole.log(attributes[0]);\r\n\t\tconsole.log(attributes[1]);\r\n\t\tconsole.log(attributes[2]);\r\n\t\t\r\n\t\timg = \r\n\t\t{\r\n\t\t\tpath: attributes[1],\r\n\t\t\tsrc: imgString\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn img;\r\n\t}\r\n  \r\n\tgetImage(ev, img, context) {\r\n\t\t\r\n\t\t//context.parseImage(img[0])\r\n\r\n\t\tconsole.log(\"image chargée\");\r\n\t\t//console.log(img);\r\n\r\n\t\tcontext.setState({\r\n\t\t  image: img[0]\r\n\t\t});\r\n\t}\r\n\t\r\n\tshowImage()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.image)\r\n\t\t{\r\n\t\t\tcomp = <img className=\"apercuImage\" src={this.state.image}/>\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n  \r\n\tasync publicatePost(ev, context){\r\n\t\t\r\n\t\tev.preventDefault();\r\n\t\t\r\n\t\tconst formDatas = new FormData(ev.target);\r\n\t  \r\n\t\tconst datePubli = new Date();\r\n\t  \r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t  \r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \"+token,\r\n\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t},\r\n\t\t\t\tdata: formDatas,\r\n\t\t\t\turl: \"http://localhost:5000/posts/\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\t\r\n\t\t\t\tif(res)\r\n\t\t\t\t{\r\n\t\t\t\t\tconst newPost = res.data;\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(newPost)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/profil/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(err.response.data.error)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(err.response.data.error.message)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconsole.log(err.response.data.error.message);\r\n\t\t\t\t\t\t\t\tif(err.response.data.error.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconsole.error(err.response.data.error.message);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.setState({ message: err.response.data.error.message });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.setState({ message: err.response.data.error });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ message: err.response.data });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t  \r\n\t}\r\n\r\n\tupdatePost(message) {\r\n\t\tthis.setState({ desc_new_post: message });\r\n\t}\r\n  \r\n\tgetLikes()\r\n\t{\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tvar comp = undefined;\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(this.state.post.refUser == decoded.userId)\r\n\t\t\t{\r\n\t\t\t\tcomp = <div className=\"like\">\r\n\t\t\t\t\t<img className=\"like_logo\" src={logo_like} />\r\n\t\t\t\t\t{this.state.post.likes.length}\r\n\t\t\t\t</div>;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(this.state.post.likes.includes(decoded.userId))\r\n\t\t\t\t{\r\n\t\t\t\t\tcomp = <div className=\"like on\"\r\n\t\t\t\t\t\t\tonClick={(ev, context) => this.removeLike(ev, this)}>\r\n\t\t\t\t\t\t<img className=\"like_img\"\r\n\t\t\t\t\t\t\tsrc={logo_like}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: {this.state.post.likes.length}\r\n\t\t\t\t\t</div>;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tcomp = <div className=\"like off\" \r\n\t\t\t\t\t\t\tonClick={(ev, context) => this.addLike(ev, this)}>\r\n\t\t\t\t\t\t<img className=\"like_img\"\r\n\t\t\t\t\t\t\tsrc={logo_like}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: {this.state.post.likes.length}\r\n\t\t\t\t\t</div>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tasync addLike(ev, context)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\tid: context.state.post._id\r\n\t\t\t},\r\n\t\t\turl: \"http://localhost:5000/posts/addLike/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\r\n\t\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\t\r\n\t\t\t\tif(decoded)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar newPost = context.state[\"post\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\tnewPost.likes.push(decoded.userId);\r\n\t\t\t\t\tcontext.setState({ post: newPost });\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(\"Problème de décodage\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync removeLike(ev, context)\r\n\t{\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\tid: context.state.post._id\r\n\t\t\t},\r\n\t\t\turl: \"http://localhost:5000/posts/removeLike/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\t\r\n\t\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\t\r\n\t\t\t\tif(decoded)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar newPost = context.state[\"post\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\tnewPost.likes = res.data.likes;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontext.setState({ post: newPost });\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(context.state.post.likes);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(\"Problème de décodage\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync addCommentaire(ev, context)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconsole.log(context.state[\"new_commentaire\"]);\r\n\t\t\r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\r\n\t\t\tvar optionReq = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: context.state.post._id,\r\n\t\t\t\t\ttext: context.state[\"new_commentaire\"]\r\n\t\t\t\t},\r\n\t\t\t\turl: \"http://localhost:5000/posts/addComment/\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar newPost = this.state[\"post\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res.data && res.data != \"\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnewPost.comments.push(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnewPost.comments.push({\r\n\t\t\t\t\t\t\trefUser: decoded.userId,\r\n\t\t\t\t\t\t\tdate: new Date(),\r\n\t\t\t\t\t\t\ttext: context.state[\"new_commentaire\"]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ post: newPost });\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontext.setState({ new_commentaire:\"\" });\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tchangeCommentaire(ev, context)\r\n\t{\r\n\t\tif(ev && ev.target)\r\n\t\t{\r\n\t\t\tcontext.setState({\r\n\t\t\t\tnew_commentaire: ev.target.value\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync removeCommentaire(ev, context, idComm)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\tid: context.state.post._id,\r\n\t\t\t\tidComment: idComm\r\n\t\t\t},\r\n\t\t\turl: \"http://localhost:5000/posts/removeComment/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\t\r\n\t\t\t\tcontext.setState({ post:res.data });\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetAddCommentaire()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(this.state.post.refUser != decoded.userId)\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"input_commentaire\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid=\"input_text_commentaire\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\trows=\"3\" cols=\"25\"\r\n\t\t\t\t\t\tplaceholder=\"Commentaire...\"\r\n\t\t\t\t\t\tvalue={this.state.new_commentaire} \r\n\t\t\t\t\t\tonChange={(ev, context) => this.changeCommentaire(ev, this)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_commentaire\"\r\n\t\t\t\t\t\tonClick={(ev, context) => this.addCommentaire(ev, this)}>\r\n\t\t\t\t\t\tPublier\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetCommentaireAffichage(commentaire)\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded)\r\n\t\t{\r\n\t\t\tif(commentaire.refUser != decoded.userId)\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"commentaire\" >{commentaire.text}</div>);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"commentaire\" >\r\n\t\t\t\t\t{commentaire.text}\r\n\t\t\t\t\t<button className=\"remove_commentaire\" \r\n\t\t\t\t\t\tonClick={(ev, context, idCom) => this.removeCommentaire(ev, this, commentaire._id)}>\r\n\t\t\t\t\t\tSupprimer\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\r\n    render() {\r\n        var comp;\r\n\t\t\r\n\t\tconst context = this;\r\n\r\n        if (this.state.modifiable || this.state.post == undefined) {\r\n            comp = (<div className=\"ajout_publication\">\r\n\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n\t\t\t\t<form onSubmit={(ev, context) => {this.publicatePost(ev, this)}}>\r\n\t\t\t\t\t<ImagesUploader\r\n\t\t\t\t\t\tname=\"postImage\"\r\n\t\t\t\t\t\twithIcon={true}\r\n\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\toptimisticPreviews\r\n\t\t\t\t\t\tbuttonText='Chargez une image'\r\n\t\t\t\t\t\tonChange={(ev, img) => this.getImage(ev, img, this)}\r\n\t\t\t\t\t\timgExtension={['.jpg', '.gif', '.png', '.gif']}\r\n\t\t\t\t\t\tmaxFileSize={5242880}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.showImage()}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\trows=\"3\" cols=\"25\"\r\n\t\t\t\t\t\tplaceholder=\"Ecrivez ici\"\r\n\t\t\t\t\t\tclassName=\"input_description\"\r\n\t\t\t\t\t\tvalue={this.state.desc_new_post}\r\n\t\t\t\t\t\tonChange={event => this.updatePost(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"button_action\">\r\n\t\t\t\t\t\t<button type=\"submit\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-info my-4 btn-block button_publication\">\r\n\t\t\t\t\t\t\tPublier\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_annuler\" \r\n\t\t\t\t\t\t\tonClick={() => { window.location=process.env.PUBLIC_URL + \"/profil\"; }} >\r\n\t\t\t\t\t\t\tRetour\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n            </div>);\r\n        }\r\n        else {\r\n\t\t\t\r\n\t\t\tconst d = new Date(this.state.post.date);\r\n\t\t\t\r\n            comp = (<div className=\"publication\">\r\n                <img src={\"http://localhost:5000\" + this.state.post.image}\r\n\t\t\t\t\talt={\"http://localhost:5000\" + this.state.post.image} \r\n\t\t\t\t\tclassName=\"image_publication\"/>\r\n                <p>\r\n\t\t\t\t\t{d.toISOString().substring(0,10)} à {d.toISOString().substring(11,16)} <br />\r\n\t\t\t\t\t{this.state.post.description} <br />\r\n\t\t\t\t</p>\r\n\t\t\t\t{this.getLikes()}\r\n\t\t\t\t{this.getAddCommentaire()}\r\n                {this.state.post.comments.map(function (comment) {\r\n\t\t\t\t\treturn (context.getCommentaireAffichage(comment));\r\n\t\t\t\t})}\r\n            </div>);\r\n        }\r\n\r\n        return comp;\r\n    }\r\n}\r\n","// JavaScript source code\r\nimport React, { Component } from \"react\";\r\nimport Publication from \"./Publication\"\r\nimport axios from '../url/url_bdd';\r\n\r\nimport './ListPublications.css';\r\n\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\nexport default class ListPublications extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tconsole.log(props.idUser)\r\n\t\r\n\t\tthis.state = {\r\n\t\t\tis_on_mur: props.on_mur,\r\n\t\t\tid_user: props.idUser,\r\n\t\t\tmessage:\"\",\r\n\t\t\tactivePage:1,\r\n\t\t\tnbTotalElement: 0,\r\n\t\t\tlistPubli : []\r\n\t\t};\r\n\t}\r\n  \r\n\tcomponentDidMount() {\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\tthis.getListPublication(1);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t}\r\n\t}\r\n  \r\n\tasync getListPublication(ev) {\r\n\t\tvar listPublications = new Array();\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = undefined;\r\n\t\t\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded)\r\n\t\t{\r\n\t\t\tif(this.state.id_user && this.state.id_user != decoded.userId)\r\n\t\t\t{\r\n\t\t\t\toptionReq = {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparams: \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage: ev\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: \"http://localhost:5000/posts/user/\"+this.state.id_user\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(this.state.is_on_mur)\r\n\t\t\t{\r\n\t\t\t\toptionReq = \r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparams: \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage: ev\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: \"http://localhost:5000/posts/Abonnements/\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\toptionReq = \r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparams: \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage: ev,\r\n\t\t\t\t\t\tper_page: 5\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: \"http://localhost:5000/posts\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tconsole.log(res);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\tconst posts = res.data.posts;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (posts) {\r\n\t\t\t\t\tconsole.log(posts);\r\n\t\t\t\t\tposts.forEach(post => listPublications.push(post))\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlistPublications.sort(function (post1, post2) {return post2.date - post1.date});\r\n\t\t\t\t\t\t\r\n\t\t\t\tthis.setState({ listPubli: listPublications,\r\n\t\t\t\t\tnbTotalElement: res.data.total\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.data.message)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setState({ message:err.response.data });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message:err.response });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.setState({ message:err });\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\t\r\n\tasync deletePost(ev, context, post)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata:\r\n\t\t\t{\r\n\t\t\t\tid: post._id\r\n\t\t\t},\r\n\t\t\turl: \"http://localhost:5000/posts/\"+post._id\r\n\t\t}\r\n\t\t\r\n\t\tconsole.log(optionReq);\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\tvar newListPosts = context.state.listPubli.filter(function(p) { return p._id!=post._id; });;\r\n\t\t\t\t\r\n\t\t\t\tcontext.setState({ listPubli: newListPosts });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tconfirmDeletePost(ev, context, post)\r\n\t{\r\n\t\tif(window.confirm(\"Etes vous sûr de vouloir supprimer ce post ?\"))\r\n\t\t{\r\n\t\t\tthis.deletePost(ev, context, post);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tev.preventDefault();\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetOnePublicationAffichage(in_post)\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\t\tif(decoded)\r\n\t\t\t{\r\n\t\t\t\tif(in_post.refUser == decoded.userId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcomp = (<div className=\"user_publication\">\r\n\t\t\t\t\t\t<Publication post={in_post}/>\r\n\t\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_supprimer\"\r\n\t\t\t\t\t\t\tonClick={(ev, context, post) => this.confirmDeletePost(ev, this, in_post)}>Supprimer le post</button>\r\n\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t</div>);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tcomp = (<div><Publication post={in_post}/><hr/></div>);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tchangePage(ev, context)\r\n\t{\r\n\t\tconsole.log(ev);\r\n\t\tcontext.getListPublication(ev);\r\n\t}\r\n\t\r\n\tgetPublicationsAffichage() {\r\n\t\t\r\n\t\tvar comp = (<div></div>);\r\n\t\t\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tif(this.state.listPubli != undefined && this.state.listPubli.length != 0){\r\n\t\t\tcomp = (<div className=\"list_publications\">\r\n\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n\t\t\t\t{this.state.listPubli.map(function (in_post) {\r\n\t\t\t\t\treturn (context.getOnePublicationAffichage(in_post));\r\n\t\t\t\t})}\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tactivePage={this.state.activePage}\r\n\t\t\t\t\titemsCountPerPage={5}\r\n\t\t\t\t\ttotalItemsCount={this.state.nbTotalElement}\r\n\t\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\t\tonChange={(ev, context) => this.changePage(ev, this)}\r\n\t\t\t\t/>\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this.state.message && this.state.message != \"\")\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"errorMessage\">{this.state.message}</div>);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"message_empty\" >Aucun post à afficher</div>);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\r\n\trender() {\r\n\t\tvar comp;\r\n\t\t\r\n\t\tcomp = (<div>\r\n\t\t\t{this.getPublicationsAffichage()}\r\n\t\t</div>);\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n}","import axios from '../url/url_bdd';\r\n//import axios from 'axios';\r\nimport React, { Component } from \"react\";\r\nimport './Abonnement.css';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\nexport default class Abonnement extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n            message: \"\",\r\n\t\t\tuser: props.user,\r\n\t\t\tchange_current_user: props.change_user,\r\n\t\t\tparent: props.parent\r\n        };\r\n\t}\r\n\t\r\n\tasync subscribe(ev, user){\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar options = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata: { id: user._id },\r\n\t\t\turl: \"http://localhost:5000/users/addAbonement/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(options);\r\n\t\t\t\r\n\t\t\tconsole.log(res);\r\n\t\t\t\r\n\t\t\twindow.alert(\"Demande d'abonnements envoyée\")\r\n\r\n\t\t\t/*\r\n\t\t\tif(res && res.status == 200){\r\n\t\t\t\tvar newUser = this.state.currentUser;\r\n\t\t\t\t\r\n\t\t\t\tif(newUser)\r\n\t\t\t\t{\r\n\t\t\t\t\tnewUser.abonnements.push(user._id);\r\n\t\t\t\t\tthis.setState({ currentUser: newUser });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tconsole.error(err);\r\n\t\t\t\r\n\t\t\tif(err.response && err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t}\r\n\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync unsubscribe(ev, user){\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar options = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t},\r\n\t\t\tdata: { id: user._id },\r\n\t\t\turl: \"http://localhost:5000/users/removeAbonement/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(options);\r\n\t\t\tconsole.log(res);\r\n\r\n\t\t\tif(res && res.status == 200){\r\n\t\t\t\t\r\n\t\t\t\tif(res.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.state.parent.setState({ currentUser: user });\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ users: user.abonnements });\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tconsole.error(err);\r\n\t\t\t\r\n\t\t\tif(err.response && err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t}\r\n\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync removeSubscriber(ev, user)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar options = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t},\r\n\t\t\tdata: { id: user._id },\r\n\t\t\turl: \"http://localhost:5000/users/removeAbonnee/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(options);\r\n\t\t\tconsole.log(res);\r\n\r\n\t\t\tif(res && res.status == 200){\r\n\t\t\t\t\r\n\t\t\t\tif(res.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(this.state.parent);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.state.parent.setState({ currentUser: user });\r\n\t\t\t\t\t\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tif(this.state.change_current_user)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.change_current_user(user);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t*/\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tconsole.error(err);\r\n\t\t\t\r\n\t\t\tif(err.response && err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t}\r\n\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tgetBoutonRemoveAbonne(user)\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(this.state.user && this.state.user.abonnements.includes(decoded.userId)){\r\n\t\t\tcomp = <button className=\"btn btn-info my-4 btn-block button_desabonner\"\r\n\t\t\t\tonClick={(ev, us) => this.removeSubscriber(ev, user)}>\r\n\t\t\t\tDesabonner\r\n\t\t\t</button>\r\n\t\t}\r\n\t\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\trender()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(this.state.user && this.state.user.abonnées.includes(decoded.userId))\r\n\t\t{\r\n\t\t\tcomp = (<div className=\"button_action\">\r\n\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_abonner\"\r\n\t\t\t\t\tonClick={(ev, us) => this.unsubscribe(ev, this.state.user)}>\r\n\t\t\t\t\tSe desabonner\r\n\t\t\t\t</button>\r\n\t\t\t\t{this.getBoutonRemoveAbonne(this.state.user)}\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (<div className=\"button_action\">\r\n\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_desabonner\"\r\n\t\t\t\t\tonClick={(ev, us) => this.subscribe(ev, this.state.user)}>\r\n\t\t\t\t\tS'abonner\r\n\t\t\t\t</button>\r\n\t\t\t\t{this.getBoutonRemoveAbonne(this.state.user)}\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n}","import axios from '../url/url_bdd';\r\nimport React, { Component } from \"react\";\r\n\r\nimport ListPublications from \"./ListPublications\";\r\nimport Abonnement from \"./Abonnement\";\r\n\r\nimport './User.css';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n//var ReactTestUtils = require('react-dom/test-utils');\r\n\r\nexport default class User extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n\t\t\tuser: props.in_user,\r\n\t\t\tposts: [],\r\n\t\t\tmodified_user: props.in_user,\r\n\t\t\tmodif: false\r\n\t\t};\r\n    }\r\n\r\n    async componentDidMount() {\r\n\t\tif(!this.state.user)\r\n\t\t{\r\n\t\t\tvar idUser = undefined;\r\n\t\t\t\r\n\t\t\tif(this.props && this.props.match \r\n\t\t\t\t&& this.props.match.params\r\n\t\t\t\t&& this.props.match.params.idUser)\r\n\t\t\t{\r\n\t\t\t\tidUser = this.props.match.params.idUser;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log(idUser);\r\n\t\t\t\r\n\t\t\tvar optionReq = undefined;\r\n\t\t\t\r\n\t\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\t\r\n\t\t\tif(idUser)\r\n\t\t\t{\r\n\t\t\t\tconsole.log(\"Il faut afficher le user \" + idUser);\r\n\t\t\t\t\r\n\t\t\t\toptionReq = {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders:{\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: 'http://localhost:5000/users/user/'+idUser\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t\tif(token){\r\n\t\t\t\t\t\r\n\t\t\t\t\toptionReq = {\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\theaders:{\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\turl: 'http://localhost:5000/users/user/'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\tif(optionReq)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res){\r\n\t\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (user) {\r\n\t\t\t\t\t\t\tthis.setState({ user: user });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tcatch (err)\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(err.response)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(Number(err.response.status) == 401){\r\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(Number(err.response.status) == 500)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!this.state.modif)\r\n\t\t{\r\n\t\t\tthis.state[\"modified_user\"] = this.state.user;\r\n\t\t}\r\n    }\r\n\t\r\n\taddPost(ev, context){\r\n\t\tconsole.log(context.state);\r\n\t\twindow.location = process.env.PUBLIC_URL + \"/addpost/\";\r\n\t\t\r\n\t}\r\n\t\r\n\ttoggleModif(ev, context)\r\n\t{\r\n\t\tvar new_modif = !context.state.modif;\r\n\t\tcontext.setState({ modif: new_modif });\r\n\t\tthis.state[\"modified_user\"] = this.state.user;\r\n\t}\r\n\t\r\n\tchangeField(ev, context)\r\n\t{\r\n\t\tconst idChamp = ev.target.id;\r\n\t\t\r\n\t\tswitch(idChamp)\r\n\t\t{\r\n\t\t\tcase \"defaultRegisterFormLastName\":\r\n\t\t\t\tcontext.setState({ modified_user: {...context.state.modified_user, username: ev.target.value }});\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"input_desc\":\r\n\t\t\t\tcontext.setState({ modified_user: {...context.state.modified_user, bio: ev.target.value }});\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"defaultRegisterFormEmail\":\r\n\t\t\t\tcontext.setState({ modified_user: {...context.state.modified_user, email: ev.target.value }});\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"defaultRegisterFormPassword\":\r\n\t\t\t\tcontext.setState({ modified_user: {...context.state.modified_user, password: ev.target.value }});\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tgetChoicePrivacy()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.modified_user.status == \"private\")\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"select_privacy\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"public\" name=\"status\" value=\"public\"\r\n\t\t\t\t\t\t\tonChange={(ev) => { this.changePrivacy(ev) }} />\r\n\t\t\t\t\t\t<label>Public</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"private\" name=\"status\" value=\"private\"\r\n\t\t\t\t\t\t\tchecked onChange={(ev) => { this.changePrivacy(ev) }} />\r\n\t\t\t\t\t\t<label>Privée</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"select_privacy\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"public\" name=\"status\" value=\"public\"\r\n\t\t\t\t\t\t\tchecked onChange={(ev, context) => {this.changePrivacy(ev, this)}} />\r\n\t\t\t\t\t\t<label>Public</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"private\" name=\"status\" value=\"private\"\r\n\t\t\t\t\t\t\t onChange={(ev, context) => {this.changePrivacy(ev, this)}} />\r\n\t\t\t\t\t\t<label>Privée</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tchangePrivacy(ev)\r\n\t{\r\n\t\tconsole.log(ev.target.value);\r\n\t\t\r\n\t\tthis.setState({ modified_user: {...this.state.modified_user, status: ev.target.value }});\r\n\t}\r\n\t\r\n\t\r\n\tasync saveModif(ev, context)\r\n\t{\r\n\t\t\r\n\t\tvar modifiedChamps = new Array();\r\n\t\t\r\n\t\tif(!(context.state.user.username == context.state.modified_user.username))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"username\" , value: context.state.modified_user.username });\r\n\t\t}\r\n\t\t\r\n\t\tif(!(context.state.user.bio == context.state.modified_user.bio))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"bio\" , value: context.state.modified_user.bio });\r\n\t\t}\r\n\t\t\r\n\t\tif(!(context.state.user.email == context.state.modified_user.email))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"email\" , value: context.state.modified_user.email });\r\n\t\t}\r\n\t\t\r\n\t\tif(!(context.state.user.password == context.state.modified_user.password))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"password\" , value: context.state.modified_user.password });\r\n\t\t}\r\n\t\t\r\n\t\tif(!(context.state.user.status == context.state.modified_user.status))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"status\" , value: context.state.modified_user.status });\r\n\t\t}\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\tdata: modifiedChamps,\r\n\t\t\t\turl: 'http://localhost:5000/users/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tcontext.setState({ modif: false, user: context.state.modified_user });\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.status == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tconfirmDelete(ev, context)\r\n\t{\r\n\t\tif(window.confirm(\"Attention ! Votre profil, et tout son contenu seront définitivement supprimés ! \\nEtes vous sûr ?\"))\r\n\t\t{\r\n\t\t\tthis.deleteUser(ev, context);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t//console.log(\"Annulation suppression du profil\");\r\n\t\t\tev.preventDefault();\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync deleteUser(ev, context)\r\n\t{\r\n\t\t//console.log(\"Suppression du profil\");\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\turl: 'http://localhost:5000/users/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.status == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(err.response.status == 500)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetInfosQuantite()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded.userId == this.state.user._id)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"infos_quantite\">\r\n\t\t\t\t\t<div className=\"nb_post\">\r\n\t\t\t\t\t\t{this.state.posts.length}<br /> posts\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a className=\"nb_abonnees\" href=\"http://localhost:3000/users/abonnes\">\r\n\t\t\t\t\t\t{this.state.user.abonnées.length}<br /> abonnés\r\n\t\t\t\t\t</a><br/>\r\n\t\t\t\t\t<a className=\"nb_abonnements\" href=\"http://localhost:3000/users/abonnements\">\r\n\t\t\t\t\t\t{this.state.user.abonnements.length}<br /> abonnements\r\n\t\t\t\t\t</a><br/>\r\n\t\t\t\t\t<a className=\"nb_demandes\" href=\"http://localhost:3000/users/demandes\">\r\n\t\t\t\t\t\t{this.state.user.demandes.length}<br /> demandes\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"infos_quantite\">\r\n\t\t\t\t\t<div className=\"nb_post\">\r\n\t\t\t\t\t\t{this.state.posts.length}<br /> posts\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"nb_abonnees\">\r\n\t\t\t\t\t\t{this.state.user.abonnées.length}<br /> abonnés\r\n\t\t\t\t\t</div><br/>\r\n\t\t\t\t\t<div className=\"nb_abonnements\">\r\n\t\t\t\t\t\t{this.state.user.abonnements.length}<br /> abonnements\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetPrivacy()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.user.status == \"private\")\r\n\t\t{\r\n\t\t\tcomp = <div className=\"privacy\">Utilisateur privé</div>\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetButtonsAction()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tconsole.log(this.state.user);\r\n\t\t\r\n\t\tif(decoded.userId == this.state.user._id)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"infos_user3\">\r\n\t\t\t\t\t<button className=\"btn btn-info btn-block my-4\"\r\n\t\t\t\t\t\tonClick={(ev, context, oldUser) => this.toggleModif(ev,this, this.state.user)}>\r\n\t\t\t\t\t\tModifier les infos\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"btn btn-info btn-block my-4\"\r\n\t\t\t\t\t\tonClick={(ev, context) => this.addPost(ev,this)}>\r\n\t\t\t\t\t\tAjouter un post\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = <Abonnement user={this.state.user} />\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetPublications()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\t/*\r\n\t\tif(decoded.userId != this.state.user._id && this.state.user.status == \"private\" && )\r\n\t\t{\r\n\t\t\tcomp = (<div className=\"error_publications\">\r\n\t\t\t\tVous ne pouvez pas voir les posts d'un utilisateur privée.\r\n\t\t\t\t<br />\r\n\t\t\t\tSi vous voulez les voir, abonnez-vous à cet utilisateur.\r\n\t\t\t</div>)\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (<ListPublications idUser={this.state.user._id} on_mur={false}/>);\r\n\t\t}\r\n\t\t*/\r\n\t\t\r\n\t\tcomp = (<ListPublications idUser={this.state.user._id} on_mur={false}/>);\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetButtonDelete()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded.userId == this.state.user._id)\r\n\t\t{\r\n\t\t\tcomp = (<button className=\"btn btn-info btn-block my-4 button_delete_user\"\r\n\t\t\t\tonClick={(ev, context) => this.confirmDelete(ev,this)}>Supprimer profil</button>);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetInfoUser ()\r\n\t{\r\n\t\tconst context = this;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"user\">\r\n\t\t\t\t<div className=\"infos_user\">\r\n\t\t\t\t<img className=\"photo_profil\" src={\"http://localhost:5000\" + this.state.user.image} alt=\"\" />\r\n\t\t\t\t\t<div className=\"infos_user2\">\r\n\t\t\t\t\t\t{context.getInfosQuantite()}\r\n\t\t\t\t\t\t<div className=\"user_name\">{this.state.user.username}</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdescription : {this.state.user.bio}<br />\r\n\t\t\t\t\t\temail : {this.state.user.email}<br />\r\n\t\t\t\t\t\t{context.getPrivacy()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{context.getButtonsAction()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"publications_user\">\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\t{context.getPublications()}\r\n\t\t\t\t\t{context.getButtonDelete()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetModifUser()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div className=\"input_infos_user\">\r\n\t\t\t\t<form className=\"text-center border border-light p-5\" onSubmit={(ev, context) => this.saveModif(ev,this)}>\r\n\r\n\t\t\t\t\t<p className=\"h4 mb-4\">Modifier les informations vous concernant : </p>\r\n\r\n\t\t\t\t\t<div className=\"form-row mb-4\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"defaultRegisterFormLastName\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"User name\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.modified_user.username}\r\n\t\t\t\t\t\t\t\tonChange={(ev, context) => this.changeField(ev,this)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid=\"input_desc\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\trows=\"3\" cols=\"25\"\r\n\t\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\t\tvalue={this.state.modified_user.bio}\r\n\t\t\t\t\t\tonChange={(ev, context) => this.changeField(ev,this)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input type=\"email\"\r\n\t\t\t\t\t\tid=\"defaultRegisterFormEmail\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\tplaceholder=\"E-mail\"\r\n\t\t\t\t\t\tvalue={this.state.modified_user.email}\r\n\t\t\t\t\t\tonChange={(ev, context) => this.changeField(ev,this)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"defaultRegisterFormPassword\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\taria-describedby=\"defaultRegisterFormPasswordHelpBlock\"\r\n\t\t\t\t\t\tonChange={(ev, context) => this.changeField(ev,this)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"defaultRegisterFormPasswordHelpBlock\" className=\"form-text text-muted mb-4\">\r\n\t\t\t\t\t\tAt least 8 characters and 1 digit\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t{this.getChoicePrivacy()}\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-info my-4 btn-block\">Enregistrer</button>\r\n\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block\" onClick={(ev, context) => this.toggleModif(ev,this)}>Annuler</button>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n    render() {\r\n\t\tvar comp = <div/>;\r\n\t\t\r\n\t\tif(this.state.user){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(this.state.modif)\r\n\t\t\t{\r\n\t\t\t\tcomp = this.getModifUser();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = this.getInfoUser();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        return comp;\r\n    }\r\n}","import axios from '../url/url_bdd';\r\n//import axios from 'axios';\r\nimport React, { Component } from \"react\";\r\nimport User from './User';\r\nimport Pagination from \"react-js-pagination\";\r\nimport Abonnement from \"./Abonnement\";\r\nimport './Users.css';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\n//attribut show: \"research\" -> montre tous les utilisateurs dont le text apparait dans le nom\r\n//         show: \"abonnes\" -> montre les utilisateurs abonnées à l'utilisateur courrant\r\n//         show: \"abonnements\" -> montre les utilisateurs auxquel l'utilisateur courrant s'est abonné\r\nexport default class Users extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tvar text = \"\";\r\n\t\t\r\n\t\ttext = localStorage.getItem(\"token_search\");\r\n\t\t\r\n\t\tif(text!=undefined && text!=\"\"){\r\n\t\t\tlocalStorage.removeItem(\"token_search\");\r\n\t\t}\r\n\t\telse{\r\n\t\t\ttext = \"\";\r\n\t\t}\r\n\t\t\r\n        this.state = {\r\n            show: props.list_type,\r\n            message: \"\",\r\n\t\t\ttext_search: text,\r\n\t\t\tcurrentUser: undefined,\r\n            users: undefined,\r\n\t\t\tactivePage: 1,\r\n\t\t\tnbTotalElement: 0,\r\n        };\r\n\t\tconsole.log(\"valeur text : \" + this.state.text_search);\r\n    }\r\n\r\n    update_user(user) {\r\n        this.setState({\r\n            currentUser: user\r\n        })\r\n    }\r\n\t\r\n\tasync getListUsers(in_page){\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tparams: \r\n\t\t\t\t{\r\n\t\t\t\t\tpage: in_page,\r\n\t\t\t\t\tper_page: 5\r\n\t\t\t\t},\r\n\t\t\t\turl: 'http://localhost:5000/users/UsersList'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log(optionReq);\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconst users = res.data.users;\r\n\t\t\t\t\tconsole.log(users);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (users && users.users && users.users.length > 0) {\r\n\t\t\t\t\t\t//const filteredUsers = users.filter(function (user) { return (user.username.includes(context.state.text_search));});\r\n\t\t\t\t\t\tconst filteredUsers = users.users;\r\n\t\t\t\t\t\tconst totalElements = users.total;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tusers: filteredUsers,\r\n\t\t\t\t\t\t\tactivePage: in_page,\r\n\t\t\t\t\t\t\tnbTotalElement: totalElements,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\t\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif(err.response.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ message:err.response.data });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setState({ message:err.response });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message:err });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync getCurrentUser()\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\turl: 'http://localhost:5000/users/user'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconst user = res.data;\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (user) { \r\n\t\t\t\t\t\tif(this.state.show == \"abonnes\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ currentUser: user,\r\n\t\t\t\t\t\t\t\tusers: user.abonnées,\r\n\t\t\t\t\t\t\t\tnbTotalElement: user.abonnées.length })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(this.state.show == \"abonnements\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ currentUser: user,\r\n\t\t\t\t\t\t\t\tusers: user.abonnements,\r\n\t\t\t\t\t\t\t\tnbTotalElement: user.abonnées.length })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tcurrentUser: user\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\t\r\n\t\t\t\tif(err.response && err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    componentDidMount() {\r\n\t\t\r\n\t\tif(!this.state.currentUser)\r\n\t\t{\r\n\t\t\tthis.getCurrentUser();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(!this.state.users && this.state.show == \"research\")\r\n\t\t{\r\n\t\t\tthis.getListUsers(this.state.activePage);\r\n\t\t}\r\n    }\r\n\t\r\n\tgetBoutonSubscribe(user) {\r\n\t\tvar comp = <div/>;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(user._id == decoded.userId){\r\n\t\t\tcomp = <p className=\"ItsMe\">C'est moi</p>\r\n\t\t}\r\n\t\telse{\r\n\t\t\tcomp = <Abonnement user={user} change_user={this.update_user} parent={this} />\r\n\t\t}\r\n\t\t\t\r\n\t\treturn comp;\r\n\t\t\r\n\t}\r\n\t\r\n\tgetAbonnee(user){\r\n\t\tlet comp = undefined;\r\n\t\t\r\n\t\tif(this.state.currentUser && this.state.currentUser.abonnées.includes(user))\r\n\t\t{\r\n\t\t\tcomp = <div>S'est abonné(e) à moi</div>;\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tchangePage(ev, context)\r\n\t{\r\n\t\tconsole.log(ev);\r\n\t\tif(this.state.show.toLocaleString()==\"research\")\r\n\t\t{\r\n\t\t\tcontext.getListUsers(ev);\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetPagination() {\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.users.length > 0) {\r\n\t\t\tcomp = (\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tactivePage={this.state.activePage}\r\n\t\t\t\t\titemsCountPerPage={5}\r\n\t\t\t\t\ttotalItemsCount={this.state.nbTotalElement}\r\n\t\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\t\tonChange={(ev, context) => this.changePage(ev, this)}\r\n\t\t\t\t/>);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\r\n    showList() {\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.users && this.state.users.length > 0)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n\t\t\t\t\t<div className=\"list_users\">\r\n\t\t\t\t\t{context.state.users.map(function (user) {\r\n\t\t\t\t\t\tconst url = \"http://localhost:3000/profil/\" + user._id\r\n\t\t\t\t\t\treturn (<div className=\"list_users_element\">\r\n\t\t\t\t\t\t\t<img className=\"photo_profil\" src={\"http://localhost:5000\" + user.image} alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"list_users_element2\">\r\n\t\t\t\t\t\t\t\t<a className=\"user_name\" href={url}>\r\n\t\t\t\t\t\t\t\t\t{user.username}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{context.getAbonnee(user)}\r\n\t\t\t\t\t\t\t\t{context.getBoutonSubscribe(user)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t</div>);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{this.getPagination()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this.state.show == \"abonnes\")\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"message_empty\">\r\n\t\t\t\t\tPersonne n'est abonné à vous\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t\telse if(this.state.show == \"abonnements\")\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"message_empty\">\r\n\t\t\t\t\tVous n'êtes abonné à aucun utilisateur\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"message_empty\">\r\n\t\t\t\t\tAucun utilisateur n'a été trouvé\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        return comp;\r\n    }\r\n\r\n    showDetails() {\r\n        //console.log(this.state.users[0]);\r\n        return (\r\n            <div>\r\n\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n                <User in_user={this.state.users[0]} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        var affichage;\r\n\t\t\r\n\t\tif(this.state.show == \"abonnes\" && this.state.currentUser)\r\n\t\t{\r\n\t\t\tthis.state.users = this.state.currentUser.abonnées;\r\n\t\t}\r\n\t\telse if(this.state.show == \"abonnements\" && this.state.currentUser)\r\n\t\t{\r\n\t\t\tthis.state.users = this.state.currentUser.abonnements;\r\n\t\t}\r\n\t\t\r\n\t\taffichage = this.showList();\r\n\r\n        return affichage;\r\n    }\r\n}","import axios from '../url/url_bdd';\r\n//import axios from 'axios';\r\nimport React, { Component } from \"react\";\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nimport './Demandes.css';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\n//attribut show: \"research\" -> montre tous les utilisateurs dont le text apparait dans le nom\r\n//         show: \"abonnes\" -> montre les utilisateurs abonnées à l'utilisateur courrant\r\n//         show: \"abonnements\" -> montre les utilisateurs auxquel l'utilisateur courrant s'est abonné\r\nexport default class Demandes extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n            message: \"\",\r\n\t\t\tdemandes: undefined,\r\n\t\t\tactivePage: 1,\r\n\t\t\tnbTotalElement: 0,\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tif(!this.state.demandes)\r\n\t\t{\r\n\t\t\tthis.getDemandes(1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync getDemandes(ev)\r\n\t{\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = undefined;\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\toptionReq = {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\turl: 'http://localhost:5000/users/user/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(user);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(user)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(user.demandes)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ demandes: user.demandes })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(Number(err.response.status) == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(Number(err.response.status) == 500)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync acceptDemande(ev, demande)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = undefined;\r\n\t\t\r\n\t\tconsole.log(demande);\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\toptionReq = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\tdata:\r\n\t\t\t\t{\r\n\t\t\t\t\tid: demande._id\r\n\t\t\t\t},\r\n\t\t\t\turl: 'http://localhost:5000/users/acceptAbonement/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.log(optionReq);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(user);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({ demandes: user.demandes })\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//window.location = \"http://localhost:3000/profil/\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(Number(err.response.status) == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(Number(err.response.status) == 500)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync refuseDemande(ev, demande)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = undefined;\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\toptionReq = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\tdata:\r\n\t\t\t\t{\r\n\t\t\t\t\tid: demande._id,\r\n\t\t\t\t},\r\n\t\t\t\turl: 'http://localhost:5000/users/declineAbonement/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({ demandes: user.demandes })\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//window.location = \"http://localhost:3000/profil/\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(Number(err.response.status) == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(Number(err.response.status) == 500)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetButtons(demande) {\r\n\t\tvar comp = <div/>;\r\n\t\t\r\n\t\tcomp = (<div className=\"button_action_demande\">\r\n\t\t\t<button className=\"btn btn-info btn-block button_accepter_demande\" onClick={(ev, dem) => this.acceptDemande(ev, demande)}>Accepter</button>\r\n\t\t\t<br />\r\n\t\t\t<button className=\"btn btn-info btn-block button_refuser_demande\" onClick={(ev, dem) => this.refuseDemande(ev, demande)}>Refuser</button>\r\n\t\t</div>);\r\n\t\t\t\r\n\t\treturn comp;\r\n\t\t\r\n\t}\r\n\t\r\n\tshowListDemandes()\r\n\t{\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.demandes && this.state.demandes.length > 0)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n\t\t\t\t\t<div className=\"list_demandes\">\r\n\t\t\t\t\t{context.state.demandes.map(function (demande) {\r\n\t\t\t\t\t\tconst url = \"http://localhost:3000/profil/\" + demande._id\r\n\t\t\t\t\t\treturn (<div className=\"demande_element\">\r\n\t\t\t\t\t\t\t<img className=\"photo_profil\" src={\"http://localhost:5000\" + demande.image} alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"demande_element2\">\r\n\t\t\t\t\t\t\t\t<a href={url}>\r\n\t\t\t\t\t\t\t\t\t{demande.username}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{demande.email}\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{context.getButtons(demande)}\r\n\t\t\t\t\t\t</div>);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (<div className=\"message_empty\">\r\n\t\t\t\tAucune demande n'a été trouvée\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\t\r\n        return comp;\r\n\t}\r\n\t\r\n\trender()\r\n\t{\r\n\t\treturn this.showListDemandes();\r\n\t}\r\n}","// JavaScript source code\r\nimport axios from '../url/url_bdd';\r\nimport React from \"react\";\r\nimport './AuthRouter.css';\r\nimport ImagesUploader from 'react-images-upload';\r\nimport User from './User';\r\nimport logo from '../assets/logo_transparent.png';\r\nimport {\r\n    BrowserRouter as Router\r\n} from 'react-router-dom';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\nexport default class AuthRouter extends Router {\r\n    constructor(props) {\r\n        super(props);\r\n\t\t//localStorage.clear();\r\n        this.state = {\r\n            auth: props.authentified,\r\n\t\t\tinput_user_name: \"\",\r\n            input_description: \"\",\r\n            input_email: \"\",\r\n            input_pwd: \"\",\r\n\t\t\tinput_image: undefined,\r\n\t\t\tmessage: \"\",\r\n\t\t\tcreationUser: props.signup\r\n        };\r\n    }\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\twindow.location = process.env.PUBLIC_URL + \"/profil/\";\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tasync login() {\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\temail: this.state.input_email,\r\n\t\t\t\tpassword: this.state.input_pwd\r\n\t\t\t},\r\n\t\t\turl: 'http://localhost:5000/users/login/'\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res && res.data){\r\n\t\t\t\t\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem(\"token\", token)\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({ auth: true });\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.setState({ message: \"Erreur données reçues\" });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data && err.response.data.massage)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message: err.response.data.massage });\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message: err.response });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n    changeMail(ev) {\r\n\t\tthis.setState({ input_email: ev.target.value});\r\n        //this.state[\"input_email\"] = ev.target.value;\r\n    }\r\n\r\n    changePwd(ev) {\r\n\t\tthis.setState({ input_pwd: ev.target.value});\r\n        //this.state[\"input_pwd\"] = ev.target.value;\r\n    }\r\n\t\r\n\tgetImage(ev, img, context) {\r\n\t\t\r\n\t\t//context.parseImage(img[0])\r\n\r\n\t\tconsole.log(\"image chargée\");\r\n\t\t//console.log(img);\r\n\r\n\t\tcontext.setState({\r\n\t\t  input_image: img[0]\r\n\t\t});\r\n\t}\r\n\t\r\n\tshowImage()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.input_image)\r\n\t\t{\r\n\t\t\tcomp = <img className=\"apercuImage\" src={this.state.input_image}/>\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\r\n    authUser(ev, context) {\r\n\t\tev.preventDefault();\r\n\t\tcontext.login();\r\n    }\r\n\t\r\n\tasync createUser(ev, context){\r\n\t\tev.preventDefault();\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconst formDatas = new FormData(ev.target);\r\n\t\t\r\n\t\tconsole.log(formDatas);\r\n\t\tconsole.log(formDatas.values());\r\n\t\tconsole.log(formDatas.get(\"profileImage\"));\r\n\t\tconsole.log(formDatas.get(\"username\"));\r\n\t\tconsole.log(formDatas.get(\"email\"));\r\n\t\tconsole.log(formDatas.get(\"bio\"));\r\n\t\tconsole.log(formDatas.get(\"status\"));\r\n\t\t\r\n\t\tconst optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t},\r\n\t\t\tdata: formDatas,\r\n\t\t\turl: 'http://localhost:5000/users/signup'\r\n\t\t}\r\n\t\t\r\n\t\tconsole.log(optionReq);\r\n\t\t\r\n\t\t/*\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\tusername: context.state.input_user_name,\r\n\t\t\t\temail: context.state.input_email,\r\n\t\t\t\tpassword: context.state.input_pwd,\r\n\t\t\t\tbio: context.state.input_description,\r\n\t\t\t\timage: \"\"\r\n\t\t\t},\r\n\t\t\turl: 'http://localhost:5000/users/signup'\r\n\t\t}\r\n\t\t*/\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconst resp = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(resp){\r\n\t\t\t\tconsole.log(resp);\r\n\t\t\t\tconsole.log(resp.data);\r\n\t\t\t\t\r\n\t\t\t\tconst user = resp.data.user;\r\n\t\t\t\t\t\r\n\t\t\t\tcontext.login();\r\n\t\t\t\t\r\n\t\t\t\tif(user){\r\n\t\t\t\t\tconsole.log(user.username);\r\n\t\t\t\t\tconsole.log(user.email);\r\n\t\t\t\t\tconsole.log(user.password);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//context.setState({ auth: true});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t//setTimeout(() => { window.location = \"http://localhost:3000/profil/\"; }, 5000);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data && err.response.data.message)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.status == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setState({ message: err.response.data.message });\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message: err.response });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tgetChoicePrivacy()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.input_is_private)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"select_privacy\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"public\" name=\"status\" value=\"public\"\r\n\t\t\t\t\t\t\tonChange={(ev) => { this.changePrivacy(ev) }} />\r\n\t\t\t\t\t\t<label>Public</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"private\" name=\"status\" value=\"private\"\r\n\t\t\t\t\t\t\tchecked onChange={(ev) => { this.changePrivacy(ev) }} />\r\n\t\t\t\t\t\t<label>Privée</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"select_privacy\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"public\" name=\"status\" value=\"public\"\r\n\t\t\t\t\t\t\tonChange={(ev, context) => {this.changePrivacy(ev, this)}} />\r\n\t\t\t\t\t\t<label>Public</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"private\" name=\"status\" value=\"private\"\r\n\t\t\t\t\t\t\t onChange={(ev, context) => {this.changePrivacy(ev, this)}} />\r\n\t\t\t\t\t\t<label>Privée</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tchangePrivacy(ev)\r\n\t{\r\n\t\tconsole.log(ev.target.value);\r\n\t\tif (ev.target.value == \"private\")\r\n\t\t{\r\n\t\t\tthis.setState({ privacy: true });\r\n\t\t}\r\n\t\telse if (ev.target.value == \"public\")\r\n\t\t{\r\n\t\t\tthis.setState({ privacy: false });\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetErrorMessage()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.message && this.state.message != \"\")\r\n\t\t{\r\n\t\t\tcomp = <div className=\"error_message\">{this.state.message}</div>\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tactiveCreation(ev, context){\r\n\t\tcontext.state[\"message\"] = \"\";\r\n\t\tcontext.setState({ creationUser:true });\r\n\t}\r\n\t\r\n\tdesactiveCreation(ev, context){\r\n\t\tcontext.state[\"message\"] = \"\";\r\n\t\tcontext.setState({ creationUser:false });\r\n\t}\r\n\t\r\n\tgetAutComp()\r\n\t{\r\n\t\treturn(<div className=\"login\">\r\n\t\t\t<div className=\"blank\">\r\n\t\t\t\t<img src={logo} alt=\"logo\" className=\"logo\"/>\r\n\t\t\t</div>\r\n\t\t\t\t<form className=\"text-center border border-light p-5\" onSubmit={(ev, context) => this.authUser(ev, this)}>\r\n\r\n\t\t\t\t\t<p className=\"h4 mb-4\">Connexion</p>\r\n\r\n\t\t\t\t\t<input type=\"email\" \r\n\t\t\t\t\t\tid=\"defaultLoginFormEmail\" \r\n\t\t\t\t\t\tclassName=\"form-control mb-4\" \r\n\t\t\t\t\t\tplaceholder=\"E-mail\"\r\n\t\t\t\t\t\tonChange={(ev) => { this.changeMail(ev); } }\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input type=\"password\"\r\n\t\t\t\t\t\tid=\"defaultLoginFormPassword\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\tplaceholder=\"Mot de passe\" \r\n\t\t\t\t\t\tonChange={(ev) => { this.changePwd(ev); } }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.getErrorMessage()}\r\n\r\n\t\t\t\t\t<button className=\"btn btn-info btn-block my-4\" type=\"submit\">Connexion</button>\r\n\r\n\t\t\t\t\t<p>Pas encore membre?<br />\r\n\t\t\t\t\t\t<a href=\"/auth/signup\">S'inscrire</a>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\t\r\n\t}\r\n\t\r\n\tgetCreateUser()\r\n\t{\r\n\t\tconst context = this;\r\n\t\treturn(\r\n\t\t\t<div className=\"signup\">\r\n\t\t\t\t<form className=\"text-center border border-light p-5\" onSubmit={(ev, context) => this.createUser(ev, this)}>\r\n\r\n\t\t\t\t\t<p className=\"h4 mb-4\">S'inscrire</p>\r\n\r\n\t\t\t\t\t<div className=\"form-row mb-4\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"defaultRegisterFormLastName\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Pseudo\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<ImagesUploader\r\n\t\t\t\t\t\tname=\"profileImage\"\r\n\t\t\t\t\t\twithIcon={true}\r\n\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\toptimisticPreviews\r\n\t\t\t\t\t\tbuttonText='Chargez une image'\r\n\t\t\t\t\t\tonChange={(ev, img) => this.getImage(ev, img, this)}\r\n\t\t\t\t\t\timgExtension={['.jpg', '.gif', '.png', '.gif']}\r\n\t\t\t\t\t\tmaxFileSize={5242880}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.showImage()}\r\n\r\n\t\t\t\t\t<input type=\"email\"\r\n\t\t\t\t\t\tid=\"defaultRegisterFormEmail\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"E-mail\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"defaultRegisterFormPassword\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Mot de passe\"\r\n\t\t\t\t\t\taria-describedby=\"defaultRegisterFormPasswordHelpBlock\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"defaultRegisterFormPasswordHelpBlock\" className=\"form-text text-muted mb-4\">\r\n\t\t\t\t\t\tAt least 8 characters and 1 digit\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid=\"input_text_commentaire\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\tname=\"bio\"\r\n\t\t\t\t\t\trows=\"3\" cols=\"25\"\r\n\t\t\t\t\t\tplaceholder=\"Parlez de vous...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{context.getChoicePrivacy()}\r\n\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block\" type=\"submit\">Sign in</button>\r\n\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\r\n    render() {\r\n        var comp;\r\n        if (!this.state.auth) {\r\n\t\t\tif(this.state.creationUser){\r\n\t\t\t\tcomp = this.getCreateUser();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = this.getAutComp();\r\n\t\t\t}\r\n        }\r\n        else {\r\n            comp = (<User/>);\r\n        }\r\n\r\n        return comp;\r\n    }\r\n}","import React from 'react';\r\nimport logo from './assets/logo_transparent.png';\r\nimport './App.css';\r\nimport dotenv from \"dotenv\";\r\nimport Publication from \"./composants/Publication\";\r\nimport ListPublications from \"./composants/ListPublications\";\r\nimport User from \"./composants/User\";\r\nimport Users from \"./composants/Users\";\r\nimport Demandes from \"./composants/Demandes\";\r\nimport AuthRouter from \"./composants/AuthRouter\";\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\n\r\nconst base_url = process.env.PUBLIC_URL;\r\n\r\nconst Index = () =>  <Publication/>;\r\nconst About = () =>  <h2>About</h2>;\r\nvar users_list = () =>  <Users list_type=\"research\"/>;\r\nvar users_list_abonnees = () =>  <Users list_type=\"abonnes\"/>;\r\nvar users_list_abonnements = () =>  <Users list_type=\"abonnements\"/>;\r\nvar users_list_demandes = () =>  <Demandes />;\r\nconst user_profil = () =>  <User />;\r\nconst posts_list = () =>  <ListPublications on_mur={true}/>;\r\nconst new_post = () => <Publication modifiable={true} />;\r\nconst auth = () => <AuthRouter authentified={false} signup={false} />;\r\nconst auth_signup = () => <AuthRouter authentified={false} signup={true} />;\r\n\r\n\r\n//var textRech = \"\";\r\n\r\nfunction setText(ev) {\r\n\tlocalStorage.setItem(\"token_search\", ev.target.value)\r\n}\r\n\r\nfunction search(ev) {\r\n\twindow.location = base_url + \"/users/\";\r\n}\r\n\r\nfunction deconnexion(ev){\r\n\tlocalStorage.removeItem(\"token\");\r\n\twindow.location = base_url;\r\n}\r\n\r\nfunction App() {\r\n\tdotenv.config();\r\n  return (\r\n    <Router>\r\n     <div>\r\n     <Navbar bg=\"dark\" variant=\"dark\">\r\n\t\t<a href={base_url + \"/\"}>\r\n\t\t\t<img src={logo}\r\n\t\t\t\talt=\"InstaZZ\" id=\"logo\"/>\r\n\t\t</a>\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link href={process.env.PUBLIC_URL + \"/profil/\"} >Profil</Nav.Link>\r\n          <Nav.Link href={process.env.PUBLIC_URL + \"/posts/\"} >Mur</Nav.Link>\r\n          <Nav.Link href={process.env.PUBLIC_URL + \"/users/demandes\"} >Demandes</Nav.Link>\r\n        </Nav>\r\n        <Form inline>\r\n          <FormControl type=\"text\" placeholder=\"Cherchez un utilisateur\" className=\"mr-sm-2\" onChange={setText}/>\r\n          <Button variant=\"outline-info\" onClick={search}>Rechercher</Button>\r\n        </Form>\r\n\t\t<Button variant=\"outline-info\" id=\"deconnexion\" onClick={deconnexion}>Deconnexion</Button>\r\n\t\t\r\n      </Navbar>\r\n       <Switch>\r\n\t\t <Route path=\"/InstaZZ-front/\" exact component={auth}/>\r\n\t\t <Route path=\"/InstaZZ-front\" exact component={auth}/>\r\n         <Route path=\"/InstaZZ-front/auth\" component={auth}/>\r\n\t\t <Route path=\"/InstaZZ-front/auth/signup\" component={auth_signup}/>\r\n         <Route path=\"/InstaZZ-front/about/\" component={About}/>\r\n         <Route path=\"/InstaZZ-front/profil/:idUser\" component={User}/>\r\n         <Route path=\"/InstaZZ-front/profil/\" component={user_profil}/>\r\n         <Route path=\"/InstaZZ-front/users/demandes\" component={users_list_demandes}/>\r\n         <Route path=\"/InstaZZ-front/users/abonnements\" component={users_list_abonnements}/>\r\n         <Route path=\"/InstaZZ-front/users/abonnes\" component={users_list_abonnees}/>\r\n         <Route path=\"/InstaZZ-front/users/\" component={users_list}/>\r\n         <Route path=\"/InstaZZ-front/posts/\" component={posts_list}/>\r\n\t\t <Route path=\"/InstaZZ-front/addpost/\" component={new_post}/>\r\n       </Switch>\r\n\r\n     </div>\r\n   </Router>\r\n );\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo_transparent.3a50b41b.png\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}