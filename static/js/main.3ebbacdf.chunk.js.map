{"version":3,"sources":["url/url_bdd.js","composants/Publication.js","composants/ListPublications.js","composants/Abonnement.js","composants/User.js","composants/Users.js","composants/Demandes.js","composants/AuthRouter.js","App.js","serviceWorker.js","index.js","assets/logo_transparent.png","assets/logo_like.png"],"names":["axios","create","baseURL","jwt","require","Publication","props","state","image","undefined","post","modifiable","new_commentaire","desc_new_post","message","alert","this","imgString","path","split","src","ev","img","context","setState","comp","className","preventDefault","formDatas","FormData","target","Date","token","localStorage","getItem","optionReq","method","headers","Authorization","data","url","res","window","location","process","response","error","removeItem","console","decoded","verify","refUser","userId","logo_like","likes","length","includes","onClick","removeLike","addLike","id","_id","newPost","push","text","value","idComm","idComment","rows","cols","placeholder","onChange","changeCommentaire","addCommentaire","commentaire","idCom","removeCommentaire","onSubmit","publicatePost","name","withIcon","multiple","optimisticPreviews","buttonText","getImage","imgExtension","maxFileSize","showImage","type","event","updatePost","d","date","alt","toISOString","substring","description","getLikes","getAddCommentaire","comments","map","comment","getCommentaireAffichage","Component","ListPublications","is_on_mur","on_mur","id_user","idUser","activePage","nbTotalElement","listPubli","getListPublication","listPublications","Array","params","page","per_page","posts","forEach","sort","post1","post2","total","newListPosts","filter","p","confirm","deletePost","in_post","confirmDeletePost","getOnePublicationAffichage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","changePage","getPublicationsAffichage","Abonnement","user","change_current_user","change_user","parent","options","status","currentUser","users","abonnements","us","removeSubscriber","abonnées","unsubscribe","getBoutonRemoveAbonne","subscribe","User","in_user","modified_user","modif","match","Number","new_modif","username","bio","email","password","changePrivacy","checked","modifiedChamps","propName","deleteUser","href","demandes","oldUser","toggleModif","addPost","confirmDelete","getInfosQuantite","getPrivacy","getButtonsAction","getPublications","getButtonDelete","saveModif","changeField","aria-describedby","getChoicePrivacy","getModifUser","getInfoUser","Users","show","list_type","text_search","in_page","filteredUsers","totalElements","getCurrentUser","getListUsers","update_user","toLocaleString","getAbonnee","getBoutonSubscribe","getPagination","showList","Demandes","getDemandes","demande","dem","acceptDemande","refuseDemande","getButtons","showListDemandes","AuthRouter","auth","authentified","input_user_name","input_description","input_email","input_pwd","input_image","creationUser","signup","setItem","massage","login","resp","input_is_private","privacy","logo","authUser","changeMail","changePwd","getErrorMessage","createUser","getCreateUser","getAutComp","Router","base_url","About","users_list","users_list_abonnees","users_list_abonnements","users_list_demandes","user_profil","posts_list","new_post","auth_signup","setText","search","deconnexion","App","dotenv","config","base_path","Navbar","bg","variant","Nav","Link","Form","inline","FormControl","Button","exact","component","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.3ebbacdf.chunk.js","sourcesContent":["// JavaScript source code\r\n\r\nimport axios from 'axios';\r\n\r\nexport default axios.create({\r\n    //baseURL: 'mongodb://asmaadb:asmaadb@myappdb-shard-00-00-ygnlh.mongodb.net:27017,myappdb-shard-00-01-ygnlh.mongodb.net:27017,myappdb-shard-00-02-ygnlh.mongodb'\r\n    baseURL: 'https://zzinsta.herokuapp.com',\r\n    //baseURL: 'http://localhost:5000',\r\n})","import React, { Component } from \"react\";\r\nimport ImagesUploader from 'react-images-upload';\r\nimport axios from '../url/url_bdd';\r\nimport './Publication.css';\r\nimport logo_like from '../assets/logo_like.png';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\n\r\nexport default class Publication extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n      this.state = {\r\n\t\t  image: undefined,\r\n          post: props.post,\r\n          modifiable: props.modifiable,\r\n\t\t  new_commentaire: \"\",\r\n\t\t  desc_new_post: \"\",\r\n\t\t  message: \"\"\r\n      };\r\n  }\r\n\r\n  test() {\r\n    alert(this.state.message);\r\n  }\r\n  \r\n  componentDidMount() {\r\n\t  //var token_id = localStorage.getItem(\"token_id\");\r\n\t  //this.setState({idUser: token_id});\r\n\t  //this.setState({ post: { date: \"\", description: \"\", image: \"\", likes: [], comments:[] } })\r\n  }\r\n  \r\n\tparseImage(imgString)\r\n\t{\r\n\t\tvar img = undefined;\r\n\t\t\r\n\t\tconst attributes = imgString.split(';');\r\n\t\t\r\n\t\timg = \r\n\t\t{\r\n\t\t\tpath: attributes[1],\r\n\t\t\tsrc: imgString\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn img;\r\n\t}\r\n  \r\n\tgetImage(ev, img, context) {\r\n\r\n\t\tcontext.setState({\r\n\t\t  image: img[0]\r\n\t\t});\r\n\t}\r\n\t\r\n\tshowImage()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.image)\r\n\t\t{\r\n\t\t\tcomp = <img className=\"apercuImage\" src={this.state.image}/>\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n  \r\n\tasync publicatePost(ev, context){\r\n\t\t\r\n\t\tev.preventDefault();\r\n\t\t\r\n\t\tconst formDatas = new FormData(ev.target);\r\n\t  \r\n\t\tconst datePubli = new Date();\r\n\t  \r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t  \r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \"+token,\r\n\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t},\r\n\t\t\t\tdata: formDatas,\r\n\t\t\t\turl: \"/posts/\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res)\r\n\t\t\t\t{\r\n\t\t\t\t\tconst newPost = res.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(newPost)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/profil/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(err.response.data.error)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(err.response.data.error.message)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif(err.response.data.error.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconsole.error(err.response.data.error.message);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.setState({ message: err.response.data.error.message });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.setState({ message: err.response.data.error });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ message: err.response.data });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t  \r\n\t}\r\n\r\n\tupdatePost(message) {\r\n\t\tthis.setState({ desc_new_post: message });\r\n\t}\r\n  \r\n\tgetLikes()\r\n\t{\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tvar comp = undefined;\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(this.state.post.refUser == decoded.userId)\r\n\t\t\t{\r\n\t\t\t\tcomp = <div className=\"like\">\r\n\t\t\t\t\t<img className=\"like_logo\" src={logo_like} />\r\n\t\t\t\t\t{this.state.post.likes.length}\r\n\t\t\t\t</div>;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(this.state.post.likes.includes(decoded.userId))\r\n\t\t\t\t{\r\n\t\t\t\t\tcomp = <div className=\"like on\"\r\n\t\t\t\t\t\t\tonClick={(ev, context) => this.removeLike(ev, this)}>\r\n\t\t\t\t\t\t<img className=\"like_img\"\r\n\t\t\t\t\t\t\tsrc={logo_like}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: {this.state.post.likes.length}\r\n\t\t\t\t\t</div>;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tcomp = <div className=\"like off\" \r\n\t\t\t\t\t\t\tonClick={(ev, context) => this.addLike(ev, this)}>\r\n\t\t\t\t\t\t<img className=\"like_img\"\r\n\t\t\t\t\t\t\tsrc={logo_like}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: {this.state.post.likes.length}\r\n\t\t\t\t\t</div>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tasync addLike(ev, context)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\tid: context.state.post._id\r\n\t\t\t},\r\n\t\t\turl: \"/posts/addLike/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\t\r\n\t\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\t\r\n\t\t\t\tif(decoded)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar newPost = context.state[\"post\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\tnewPost.likes.push(decoded.userId);\r\n\t\t\t\t\tcontext.setState({ post: newPost });\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(\"Problème de décodage\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync removeLike(ev, context)\r\n\t{\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\tid: context.state.post._id\r\n\t\t\t},\r\n\t\t\turl: \"/posts/removeLike/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\t\r\n\t\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\t\r\n\t\t\t\tif(decoded)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar newPost = context.state[\"post\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\tnewPost.likes = res.data.likes;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontext.setState({ post: newPost });\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(\"Problème de décodage\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync addCommentaire(ev, context)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\r\n\t\t\tvar optionReq = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: context.state.post._id,\r\n\t\t\t\t\ttext: context.state[\"new_commentaire\"]\r\n\t\t\t\t},\r\n\t\t\t\turl: \"/posts/addComment/\"\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst newPost = res.data;\r\n\t\t\t\t\t\t//this.setState({ post: newPost, new_commentaire: \"\" });\r\n\t\t\t\t\t\tcontext.setState({ post: newPost, new_commentaire: \"\" });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tchangeCommentaire(ev, context)\r\n\t{\r\n\t\tif(ev && ev.target)\r\n\t\t{\r\n\t\t\tcontext.setState({\r\n\t\t\t\tnew_commentaire: ev.target.value\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync removeCommentaire(ev, context, idComm)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\tid: context.state.post._id,\r\n\t\t\t\tidComment: idComm\r\n\t\t\t},\r\n\t\t\turl: \"/posts/removeComment/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\t\r\n\t\t\t\tcontext.setState({ post:res.data });\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetAddCommentaire()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(this.state.post.refUser != decoded.userId)\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"input_commentaire\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid=\"input_text_commentaire\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\trows=\"3\" cols=\"25\"\r\n\t\t\t\t\t\tplaceholder=\"Commentaire...\"\r\n\t\t\t\t\t\tvalue={this.state.new_commentaire} \r\n\t\t\t\t\t\tonChange={(ev, context) => this.changeCommentaire(ev, this)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_commentaire\"\r\n\t\t\t\t\t\tonClick={(ev, context) => this.addCommentaire(ev, this)}>\r\n\t\t\t\t\t\tPublier\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetCommentaireAffichage(commentaire)\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded)\r\n\t\t{\r\n\t\t\tif(commentaire.refUser != decoded.userId)\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"commentaire\" >{commentaire.text}</div>);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"commentaire\" >\r\n\t\t\t\t\t{commentaire.text}\r\n\t\t\t\t\t<button className=\"btn btn-info btn-block remove_commentaire\" \r\n\t\t\t\t\t\tonClick={(ev, context, idCom) => this.removeCommentaire(ev, this, commentaire._id)}>\r\n\t\t\t\t\t\tSupprimer\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\r\n    render() {\r\n        var comp;\r\n\t\t\r\n\t\tconst context = this;\r\n\r\n        if (this.state.modifiable || this.state.post == undefined) {\r\n            comp = (<div className=\"ajout_publication\">\r\n\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n\t\t\t\t<form onSubmit={(ev, context) => {this.publicatePost(ev, this)}}>\r\n\t\t\t\t\t<ImagesUploader\r\n\t\t\t\t\t\tname=\"postImage\"\r\n\t\t\t\t\t\twithIcon={true}\r\n\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\toptimisticPreviews\r\n\t\t\t\t\t\tbuttonText='Chargez une image'\r\n\t\t\t\t\t\tonChange={(ev, img) => this.getImage(ev, img, this)}\r\n\t\t\t\t\t\timgExtension={['.jpg', '.gif', '.png', '.gif']}\r\n\t\t\t\t\t\tmaxFileSize={5242880}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.showImage()}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\trows=\"3\" cols=\"25\"\r\n\t\t\t\t\t\tplaceholder=\"Ecrivez ici\"\r\n\t\t\t\t\t\tclassName=\"input_description\"\r\n\t\t\t\t\t\tvalue={this.state.desc_new_post}\r\n\t\t\t\t\t\tonChange={event => this.updatePost(event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"button_action\">\r\n\t\t\t\t\t\t<button type=\"submit\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-info my-4 btn-block button_publication\">\r\n\t\t\t\t\t\t\tPublier\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_annuler\" \r\n\t\t\t\t\t\t\tonClick={() => { window.location=process.env.PUBLIC_URL + \"/profil\"; }} >\r\n\t\t\t\t\t\t\tRetour\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n            </div>);\r\n        }\r\n        else {\r\n\t\t\t\r\n\t\t\tconst d = new Date(this.state.post.date);\r\n\t\t\t\r\n            comp = (<div className=\"publication\">\r\n                <img src={\"https://zzinsta.herokuapp.com\" + this.state.post.image}\r\n\t\t\t\t\talt={\"https://zzinsta.herokuapp.com\" + this.state.post.image} \r\n\t\t\t\t\tclassName=\"image_publication\"/>\r\n                <p>\r\n\t\t\t\t\t{d.toISOString().substring(0,10)} à {d.toISOString().substring(11,16)} <br />\r\n\t\t\t\t\t{this.state.post.description} <br />\r\n\t\t\t\t</p>\r\n\t\t\t\t{this.getLikes()}\r\n\t\t\t\t{this.getAddCommentaire()}\r\n                {this.state.post.comments.map(function (comment) {\r\n\t\t\t\t\treturn (context.getCommentaireAffichage(comment));\r\n\t\t\t\t})}\r\n            </div>);\r\n        }\r\n\r\n        return comp;\r\n    }\r\n}\r\n","// JavaScript source code\r\nimport React, { Component } from \"react\";\r\nimport Publication from \"./Publication\"\r\nimport axios from '../url/url_bdd';\r\n\r\nimport './ListPublications.css';\r\n\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\nexport default class ListPublications extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\r\n\t\tthis.state = {\r\n\t\t\tis_on_mur: props.on_mur,\r\n\t\t\tid_user: props.idUser,\r\n\t\t\tmessage:\"\",\r\n\t\t\tactivePage:1,\r\n\t\t\tnbTotalElement: 0,\r\n\t\t\tlistPubli : []\r\n\t\t};\r\n\t}\r\n  \r\n\tcomponentDidMount() {\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\tthis.getListPublication(1);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t}\r\n\t}\r\n  \r\n\tasync getListPublication(ev) {\r\n\t\tvar listPublications = new Array();\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = undefined;\r\n\t\t\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded)\r\n\t\t{\r\n\t\t\tif(this.state.id_user && this.state.id_user != decoded.userId)\r\n\t\t\t{\r\n\t\t\t\toptionReq = {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparams: \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage: ev\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: \"/posts/user/\"+this.state.id_user\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(this.state.is_on_mur)\r\n\t\t\t{\r\n\t\t\t\toptionReq = \r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparams: \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage: ev\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: \"/posts/Abonnements/\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\toptionReq = \r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparams: \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage: ev,\r\n\t\t\t\t\t\tper_page: 5\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: \"/posts\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\tconst posts = res.data.posts;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (posts) {\r\n\t\t\t\t\tposts.forEach(post => listPublications.push(post))\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlistPublications.sort(function (post1, post2) {return post2.date - post1.date});\r\n\t\t\t\t\t\t\r\n\t\t\t\tthis.setState({ listPubli: listPublications,\r\n\t\t\t\t\tnbTotalElement: res.data.total\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.data.message)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setState({ message:err.response.data });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message:err.response });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.setState({ message:err });\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\t\r\n\tasync deletePost(ev, context, post)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata:\r\n\t\t\t{\r\n\t\t\t\tid: post._id\r\n\t\t\t},\r\n\t\t\turl: \"/posts/\"+post._id\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res){\r\n\t\t\t\tvar newListPosts = context.state.listPubli.filter(function(p) { return p._id!=post._id; });;\r\n\t\t\t\t\r\n\t\t\t\tcontext.setState({ listPubli: newListPosts });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tcontext.setState({ message:err.response.data.message });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tconfirmDeletePost(ev, context, post)\r\n\t{\r\n\t\tif(window.confirm(\"Etes vous sûr de vouloir supprimer ce post ?\"))\r\n\t\t{\r\n\t\t\tthis.deletePost(ev, context, post);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tev.preventDefault();\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetOnePublicationAffichage(in_post)\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token)\r\n\t\t{\r\n\t\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\t\tif(decoded)\r\n\t\t\t{\r\n\t\t\t\tif(in_post.refUser == decoded.userId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcomp = (<div className=\"user_publication\">\r\n\t\t\t\t\t\t<Publication post={in_post}/>\r\n\t\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_supprimer\"\r\n\t\t\t\t\t\t\tonClick={(ev, context, post) => this.confirmDeletePost(ev, this, in_post)}>Supprimer le post</button>\r\n\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t</div>);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tcomp = (<div><Publication post={in_post}/><hr/></div>);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tchangePage(ev, context)\r\n\t{\r\n\t\tcontext.getListPublication(ev);\r\n\t}\r\n\t\r\n\tgetPublicationsAffichage() {\r\n\t\t\r\n\t\tvar comp = (<div></div>);\r\n\t\t\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tif(this.state.listPubli != undefined && this.state.listPubli.length != 0){\r\n\t\t\tcomp = (<div className=\"list_publications\">\r\n\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n\t\t\t\t{this.state.listPubli.map(function (in_post) {\r\n\t\t\t\t\treturn (context.getOnePublicationAffichage(in_post));\r\n\t\t\t\t})}\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tactivePage={this.state.activePage}\r\n\t\t\t\t\titemsCountPerPage={5}\r\n\t\t\t\t\ttotalItemsCount={this.state.nbTotalElement}\r\n\t\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\t\tonChange={(ev, context) => this.changePage(ev, this)}\r\n\t\t\t\t/>\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this.state.message && this.state.message != \"\")\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"errorMessage\">{this.state.message}</div>);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"message_empty\" >Aucun post à afficher</div>);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\r\n\trender() {\r\n\t\tvar comp;\r\n\t\t\r\n\t\tcomp = (<div>\r\n\t\t\t{this.getPublicationsAffichage()}\r\n\t\t</div>);\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n}","import axios from '../url/url_bdd';\r\n//import axios from 'axios';\r\nimport React, { Component } from \"react\";\r\nimport './Abonnement.css';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\nexport default class Abonnement extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n            message: \"\",\r\n\t\t\tuser: props.user,\r\n\t\t\tchange_current_user: props.change_user,\r\n\t\t\tparent: props.parent\r\n        };\r\n\t}\r\n\t\r\n\tasync subscribe(ev, user){\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar options = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \"+token\r\n\t\t\t},\r\n\t\t\tdata: { id: user._id },\r\n\t\t\turl: \"/users/addAbonement/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(options);\r\n\t\t\t\r\n\t\t\twindow.alert(\"Demande d'abonnements envoyée\")\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tconsole.error(err);\r\n\t\t\t\r\n\t\t\tif(err.response && err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t}\r\n\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync unsubscribe(ev, user){\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar options = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t},\r\n\t\t\tdata: { id: user._id },\r\n\t\t\turl: \"/users/removeAbonement/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(options);\r\n\r\n\t\t\tif(res && res.status == 200){\r\n\t\t\t\t\r\n\t\t\t\tif(res.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.state.parent.setState({ currentUser: user });\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({ users: user.abonnements });\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tconsole.error(err);\r\n\t\t\t\r\n\t\t\tif(err.response && err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t}\r\n\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync removeSubscriber(ev, user)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar options = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t},\r\n\t\t\tdata: { id: user._id },\r\n\t\t\turl: \"/users/removeAbonnee/\"\r\n\t\t}\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tconst res = await axios(options);\r\n\r\n\t\t\tif(res && res.status == 200){\r\n\t\t\t\t\r\n\t\t\t\tif(res.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.state.parent.setState({ currentUser: user });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (err)\r\n\t\t{\r\n\t\t\tconsole.error(err);\r\n\t\t\t\r\n\t\t\tif(err.response && err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t}\r\n\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tgetBoutonRemoveAbonne(user)\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(this.state.user && this.state.user.abonnements.includes(decoded.userId)){\r\n\t\t\tcomp = <button className=\"btn btn-info my-4 btn-block button_desabonner\"\r\n\t\t\t\tonClick={(ev, us) => this.removeSubscriber(ev, user)}>\r\n\t\t\t\tDesabonner\r\n\t\t\t</button>\r\n\t\t}\r\n\t\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\trender()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(this.state.user && this.state.user.abonnées.includes(decoded.userId))\r\n\t\t{\r\n\t\t\tcomp = (<div className=\"button_action\">\r\n\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_abonner\"\r\n\t\t\t\t\tonClick={(ev, us) => this.unsubscribe(ev, this.state.user)}>\r\n\t\t\t\t\tSe desabonner\r\n\t\t\t\t</button>\r\n\t\t\t\t{this.getBoutonRemoveAbonne(this.state.user)}\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (<div className=\"button_action\">\r\n\t\t\t\t<button className=\"btn btn-info my-4 btn-block button_desabonner\"\r\n\t\t\t\t\tonClick={(ev, us) => this.subscribe(ev, this.state.user)}>\r\n\t\t\t\t\tS'abonner\r\n\t\t\t\t</button>\r\n\t\t\t\t{this.getBoutonRemoveAbonne(this.state.user)}\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n}","import axios from '../url/url_bdd';\r\nimport React, { Component } from \"react\";\r\n\r\nimport ListPublications from \"./ListPublications\";\r\nimport Abonnement from \"./Abonnement\";\r\n\r\nimport './User.css';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n//var ReactTestUtils = require('react-dom/test-utils');\r\n\r\nexport default class User extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n\t\t\tuser: props.in_user,\r\n\t\t\tposts: [],\r\n\t\t\tmodified_user: props.in_user,\r\n\t\t\tmodif: false\r\n\t\t};\r\n    }\r\n\r\n    async componentDidMount() {\r\n\t\tif(!this.state.user)\r\n\t\t{\r\n\t\t\tvar idUser = undefined;\r\n\t\t\t\r\n\t\t\tif(this.props && this.props.match \r\n\t\t\t\t&& this.props.match.params\r\n\t\t\t\t&& this.props.match.params.idUser)\r\n\t\t\t{\r\n\t\t\t\tidUser = this.props.match.params.idUser;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar optionReq = undefined;\r\n\t\t\t\r\n\t\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\t\r\n\t\t\tif(idUser)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\toptionReq = {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders:{\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: '/users/user/'+idUser\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t\tif(token){\r\n\t\t\t\t\t\r\n\t\t\t\t\toptionReq = {\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\theaders:{\r\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\turl: '/users/user/'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\tif(optionReq)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res){\r\n\t\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (user) {\r\n\t\t\t\t\t\t\tthis.setState({ user: user });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tcatch (err)\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(err.response)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(Number(err.response.status) == 401){\r\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(Number(err.response.status) == 500)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!this.state.modif)\r\n\t\t{\r\n\t\t\tthis.state[\"modified_user\"] = this.state.user;\r\n\t\t}\r\n    }\r\n\t\r\n\taddPost(ev, context){\r\n\t\twindow.location = process.env.PUBLIC_URL + \"/addpost/\";\r\n\t\t\r\n\t}\r\n\t\r\n\ttoggleModif(ev, context)\r\n\t{\r\n\t\tvar new_modif = !context.state.modif;\r\n\t\tcontext.setState({ modif: new_modif });\r\n\t\tthis.state[\"modified_user\"] = this.state.user;\r\n\t}\r\n\t\r\n\tchangeField(ev, context)\r\n\t{\r\n\t\tconst idChamp = ev.target.id;\r\n\t\t\r\n\t\tswitch(idChamp)\r\n\t\t{\r\n\t\t\tcase \"defaultRegisterFormLastName\":\r\n\t\t\t\tcontext.setState({ modified_user: {...context.state.modified_user, username: ev.target.value }});\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"input_desc\":\r\n\t\t\t\tcontext.setState({ modified_user: {...context.state.modified_user, bio: ev.target.value }});\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"defaultRegisterFormEmail\":\r\n\t\t\t\tcontext.setState({ modified_user: {...context.state.modified_user, email: ev.target.value }});\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"defaultRegisterFormPassword\":\r\n\t\t\t\tcontext.setState({ modified_user: {...context.state.modified_user, password: ev.target.value }});\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tgetChoicePrivacy()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.modified_user.status == \"private\")\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"select_privacy\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"public\" name=\"status\" value=\"public\"\r\n\t\t\t\t\t\t\tonChange={(ev) => { this.changePrivacy(ev) }} />\r\n\t\t\t\t\t\t<label>Public</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"private\" name=\"status\" value=\"private\"\r\n\t\t\t\t\t\t\tchecked onChange={(ev) => { this.changePrivacy(ev) }} />\r\n\t\t\t\t\t\t<label>Privée</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"select_privacy\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"public\" name=\"status\" value=\"public\"\r\n\t\t\t\t\t\t\tchecked onChange={(ev, context) => {this.changePrivacy(ev, this)}} />\r\n\t\t\t\t\t\t<label>Public</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"private\" name=\"status\" value=\"private\"\r\n\t\t\t\t\t\t\t onChange={(ev, context) => {this.changePrivacy(ev, this)}} />\r\n\t\t\t\t\t\t<label>Privée</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tchangePrivacy(ev)\r\n\t{\r\n\t\tthis.setState({ modified_user: {...this.state.modified_user, status: ev.target.value }});\r\n\t}\r\n\t\r\n\t\r\n\tasync saveModif(ev, context)\r\n\t{\r\n\t\t\r\n\t\tvar modifiedChamps = new Array();\r\n\t\t\r\n\t\tif(!(context.state.user.username == context.state.modified_user.username))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"username\" , value: context.state.modified_user.username });\r\n\t\t}\r\n\t\t\r\n\t\tif(!(context.state.user.bio == context.state.modified_user.bio))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"bio\" , value: context.state.modified_user.bio });\r\n\t\t}\r\n\t\t\r\n\t\tif(!(context.state.user.email == context.state.modified_user.email))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"email\" , value: context.state.modified_user.email });\r\n\t\t}\r\n\t\t\r\n\t\tif(!(context.state.user.password == context.state.modified_user.password))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"password\" , value: context.state.modified_user.password });\r\n\t\t}\r\n\t\t\r\n\t\tif(!(context.state.user.status == context.state.modified_user.status))\r\n\t\t{\r\n\t\t\tmodifiedChamps.push({ propName: \"status\" , value: context.state.modified_user.status });\r\n\t\t}\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\tdata: modifiedChamps,\r\n\t\t\t\turl: '/users/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tcontext.setState({ modif: false, user: context.state.modified_user });\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.status == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tconfirmDelete(ev, context)\r\n\t{\r\n\t\tif(window.confirm(\"Attention ! Votre profil, et tout son contenu seront définitivement supprimés ! \\nEtes vous sûr ?\"))\r\n\t\t{\r\n\t\t\tthis.deleteUser(ev, context);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tev.preventDefault();\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync deleteUser(ev, context)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\turl: '/users/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.status == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(err.response.status == 500)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\twindow.location = process.env.PUBLIC_URL + \"/auth/\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetInfosQuantite()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded.userId == this.state.user._id)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"infos_quantite\">\r\n\t\t\t\t\t<div className=\"nb_post\">\r\n\t\t\t\t\t\t{this.state.posts.length}<br /> posts\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a className=\"nb_abonnees\" href={process.env.PUBLIC_URL + \"/users/abonnes\"} >\r\n\t\t\t\t\t\t{this.state.user.abonnées.length}<br /> abonnés\r\n\t\t\t\t\t</a><br/>\r\n\t\t\t\t\t<a className=\"nb_abonnements\" href={process.env.PUBLIC_URL + \"/users/abonnements\"} >\r\n\t\t\t\t\t\t{this.state.user.abonnements.length}<br /> abonnements\r\n\t\t\t\t\t</a><br/>\r\n\t\t\t\t\t<a className=\"nb_demandes\" href={process.env.PUBLIC_URL + \"/users/demandes\"} >\r\n\t\t\t\t\t\t{this.state.user.demandes.length}<br /> demandes\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"infos_quantite\">\r\n\t\t\t\t\t<div className=\"nb_post\">\r\n\t\t\t\t\t\t{this.state.posts.length}<br /> posts\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"nb_abonnees\">\r\n\t\t\t\t\t\t{this.state.user.abonnées.length}<br /> abonnés\r\n\t\t\t\t\t</div><br/>\r\n\t\t\t\t\t<div className=\"nb_abonnements\">\r\n\t\t\t\t\t\t{this.state.user.abonnements.length}<br /> abonnements\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetPrivacy()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.user.status == \"private\")\r\n\t\t{\r\n\t\t\tcomp = <div className=\"privacy\">Utilisateur privé</div>\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetButtonsAction()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded.userId == this.state.user._id)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"infos_user3\">\r\n\t\t\t\t\t<button className=\"btn btn-info btn-block my-4\"\r\n\t\t\t\t\t\tonClick={(ev, context, oldUser) => this.toggleModif(ev,this, this.state.user)}>\r\n\t\t\t\t\t\tModifier les infos\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"btn btn-info btn-block my-4\"\r\n\t\t\t\t\t\tonClick={(ev, context) => this.addPost(ev,this)}>\r\n\t\t\t\t\t\tAjouter un post\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = <Abonnement user={this.state.user} />\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetPublications()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tcomp = (<ListPublications idUser={this.state.user._id} on_mur={false}/>);\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetButtonDelete()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(decoded.userId == this.state.user._id)\r\n\t\t{\r\n\t\t\tcomp = (<button className=\"btn btn-info btn-block my-4 button_delete_user\"\r\n\t\t\t\tonClick={(ev, context) => this.confirmDelete(ev,this)}>Supprimer profil</button>);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tgetInfoUser ()\r\n\t{\r\n\t\tconst context = this;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"user\">\r\n\t\t\t\t<div className=\"infos_user\">\r\n\t\t\t\t<img className=\"photo_profil\" src={\"https://zzinsta.herokuapp.com\" + this.state.user.image} alt=\"\" />\r\n\t\t\t\t\t<div className=\"infos_user2\">\r\n\t\t\t\t\t\t{context.getInfosQuantite()}\r\n\t\t\t\t\t\t<div className=\"user_name\">{this.state.user.username}</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdescription : {this.state.user.bio}<br />\r\n\t\t\t\t\t\temail : {this.state.user.email}<br />\r\n\t\t\t\t\t\t{context.getPrivacy()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{context.getButtonsAction()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"publications_user\">\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\t{context.getPublications()}\r\n\t\t\t\t\t{context.getButtonDelete()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tgetModifUser()\r\n\t{\r\n\t\treturn (\r\n\t\t\t<div className=\"input_infos_user\">\r\n\t\t\t\t<form className=\"text-center border border-light p-5\" onSubmit={(ev, context) => this.saveModif(ev,this)}>\r\n\r\n\t\t\t\t\t<p className=\"h4 mb-4\">Modifier les informations vous concernant : </p>\r\n\r\n\t\t\t\t\t<div className=\"form-row mb-4\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"defaultRegisterFormLastName\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"User name\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.modified_user.username}\r\n\t\t\t\t\t\t\t\tonChange={(ev, context) => this.changeField(ev,this)} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid=\"input_desc\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\trows=\"3\" cols=\"25\"\r\n\t\t\t\t\t\tplaceholder=\"Description\"\r\n\t\t\t\t\t\tvalue={this.state.modified_user.bio}\r\n\t\t\t\t\t\tonChange={(ev, context) => this.changeField(ev,this)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input type=\"email\"\r\n\t\t\t\t\t\tid=\"defaultRegisterFormEmail\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\tplaceholder=\"E-mail\"\r\n\t\t\t\t\t\tvalue={this.state.modified_user.email}\r\n\t\t\t\t\t\tonChange={(ev, context) => this.changeField(ev,this)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"defaultRegisterFormPassword\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\taria-describedby=\"defaultRegisterFormPasswordHelpBlock\"\r\n\t\t\t\t\t\tonChange={(ev, context) => this.changeField(ev,this)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"defaultRegisterFormPasswordHelpBlock\" className=\"form-text text-muted mb-4\">\r\n\t\t\t\t\t\tAt least 8 characters and 1 digit\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t{this.getChoicePrivacy()}\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-info my-4 btn-block\">Enregistrer</button>\r\n\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block\" onClick={(ev, context) => this.toggleModif(ev,this)}>Annuler</button>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n    render() {\r\n\t\tvar comp = <div/>;\r\n\t\t\r\n\t\tif(this.state.user){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(this.state.modif)\r\n\t\t\t{\r\n\t\t\t\tcomp = this.getModifUser();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = this.getInfoUser();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        return comp;\r\n    }\r\n}","import axios from '../url/url_bdd';\r\n//import axios from 'axios';\r\nimport React, { Component } from \"react\";\r\nimport User from './User';\r\nimport Pagination from \"react-js-pagination\";\r\nimport Abonnement from \"./Abonnement\";\r\nimport './Users.css';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\n//attribut show: \"research\" -> montre tous les utilisateurs dont le text apparait dans le nom\r\n//         show: \"abonnes\" -> montre les utilisateurs abonnées à l'utilisateur courrant\r\n//         show: \"abonnements\" -> montre les utilisateurs auxquel l'utilisateur courrant s'est abonné\r\nexport default class Users extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tvar text = \"\";\r\n\t\t\r\n\t\ttext = localStorage.getItem(\"token_search\");\r\n\t\t\r\n\t\tif(text!=undefined && text!=\"\"){\r\n\t\t\tlocalStorage.removeItem(\"token_search\");\r\n\t\t}\r\n\t\telse{\r\n\t\t\ttext = \"\";\r\n\t\t}\r\n\t\t\r\n        this.state = {\r\n            show: props.list_type,\r\n            message: \"\",\r\n\t\t\ttext_search: text,\r\n\t\t\tcurrentUser: undefined,\r\n            users: undefined,\r\n\t\t\tactivePage: 1,\r\n\t\t\tnbTotalElement: 0,\r\n        };\r\n    }\r\n\r\n    update_user(user) {\r\n        this.setState({\r\n            currentUser: user\r\n        })\r\n    }\r\n\t\r\n\tasync getListUsers(in_page){\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\tvar optionReq = undefined;\r\n\t\t\t\r\n\t\t\tif(this.state.text_search && this.state.text_search != \"\")\r\n\t\t\t{\r\n\t\t\t\toptionReq = {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders:{\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" +token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparams: \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage: in_page,\r\n\t\t\t\t\t\tper_page: 5\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: '/users/find/'+this.state.text_search\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\toptionReq = {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders:{\r\n\t\t\t\t\t\tAuthorization: \"Bearer \" +token,\r\n\t\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tparams: \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage: in_page,\r\n\t\t\t\t\t\tper_page: 5\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: '/users/UsersList'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconst users = res.data.users;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (users && users.users && users.users.length > 0) {\r\n\t\t\t\t\t\t//const filteredUsers = users.filter(function (user) { return (user.username.includes(context.state.text_search));});\r\n\t\t\t\t\t\tconst filteredUsers = users.users;\r\n\t\t\t\t\t\tconst totalElements = users.total;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tusers: filteredUsers,\r\n\t\t\t\t\t\t\tactivePage: in_page,\r\n\t\t\t\t\t\t\tnbTotalElement: totalElements,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\t\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif(err.response.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(err.response.data.message == \"Echec de l'Authentification\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ message:err.response.data });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setState({ message:err.response });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message:err });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync getCurrentUser()\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\tconst optionReq = {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\turl: '/users/user'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconst user = res.data;\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (user) { \r\n\t\t\t\t\t\tif(this.state.show == \"abonnes\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ currentUser: user,\r\n\t\t\t\t\t\t\t\tusers: user.abonnées,\r\n\t\t\t\t\t\t\t\tnbTotalElement: user.abonnées.length })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(this.state.show == \"abonnements\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ currentUser: user,\r\n\t\t\t\t\t\t\t\tusers: user.abonnements,\r\n\t\t\t\t\t\t\t\tnbTotalElement: user.abonnées.length })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tcurrentUser: user\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\t\r\n\t\t\t\tif(err.response && err.response.data.message == \"Echec de l'Authentification\"){\r\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ message:err.response.data.message });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    componentDidMount() {\r\n\t\t\r\n\t\tif(!this.state.currentUser)\r\n\t\t{\r\n\t\t\tthis.getCurrentUser();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(!this.state.users && this.state.show == \"research\")\r\n\t\t{\r\n\t\t\tthis.getListUsers(this.state.activePage);\r\n\t\t}\r\n    }\r\n\t\r\n\tgetBoutonSubscribe(user) {\r\n\t\tvar comp = <div/>;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconst decoded = jwt.verify(token, process.env.REACT_APP_JWT_KEY);\r\n\t\t\r\n\t\tif(user._id == decoded.userId){\r\n\t\t\tcomp = <p className=\"ItsMe\">C'est moi</p>\r\n\t\t}\r\n\t\telse{\r\n\t\t\tcomp = <Abonnement user={user} change_user={this.update_user} parent={this} />\r\n\t\t}\r\n\t\t\t\r\n\t\treturn comp;\r\n\t\t\r\n\t}\r\n\t\r\n\tgetAbonnee(user){\r\n\t\tlet comp = undefined;\r\n\t\t\r\n\t\tif(this.state.currentUser && this.state.currentUser.abonnées.includes(user))\r\n\t\t{\r\n\t\t\tcomp = <div>S'est abonné(e) à moi</div>;\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tchangePage(ev, context)\r\n\t{\r\n\t\tif(this.state.show.toLocaleString()==\"research\")\r\n\t\t{\r\n\t\t\tcontext.getListUsers(ev);\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetPagination() {\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.users.length > 0) {\r\n\t\t\tcomp = (\r\n\t\t\t\t<Pagination\r\n\t\t\t\t\tactivePage={this.state.activePage}\r\n\t\t\t\t\titemsCountPerPage={5}\r\n\t\t\t\t\ttotalItemsCount={this.state.nbTotalElement}\r\n\t\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\t\tonChange={(ev, context) => this.changePage(ev, this)}\r\n\t\t\t\t/>);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\r\n    showList() {\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.users && this.state.users.length > 0)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n\t\t\t\t\t<div className=\"list_users\">\r\n\t\t\t\t\t{context.state.users.map(function (user) {\r\n\t\t\t\t\t\tconst url = process.env.PUBLIC_URL + \"/profil/\" + user._id\r\n\t\t\t\t\t\treturn (<div className=\"list_users_element\">\r\n\t\t\t\t\t\t\t<img className=\"photo_profil\" src={\"https://zzinsta.herokuapp.com\" + user.image} alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"list_users_element2\">\r\n\t\t\t\t\t\t\t\t<a className=\"user_name\" href={url}>\r\n\t\t\t\t\t\t\t\t\t{user.username}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{context.getAbonnee(user)}\r\n\t\t\t\t\t\t\t\t{context.getBoutonSubscribe(user)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t</div>);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t{this.getPagination()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this.state.show == \"abonnes\")\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"message_empty\">\r\n\t\t\t\t\tPersonne n'est abonné à vous\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t\telse if(this.state.show == \"abonnements\")\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"message_empty\">\r\n\t\t\t\t\tVous n'êtes abonné à aucun utilisateur\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = (<div className=\"message_empty\">\r\n\t\t\t\t\tAucun utilisateur n'a été trouvé\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        return comp;\r\n    }\r\n\r\n    showDetails() {\r\n        return (\r\n            <div>\r\n\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n                <User in_user={this.state.users[0]} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        var affichage;\r\n\t\t\r\n\t\tif(this.state.show == \"abonnes\" && this.state.currentUser)\r\n\t\t{\r\n\t\t\tthis.state.users = this.state.currentUser.abonnées;\r\n\t\t}\r\n\t\telse if(this.state.show == \"abonnements\" && this.state.currentUser)\r\n\t\t{\r\n\t\t\tthis.state.users = this.state.currentUser.abonnements;\r\n\t\t}\r\n\t\t\r\n\t\taffichage = this.showList();\r\n\r\n        return affichage;\r\n    }\r\n}","import axios from '../url/url_bdd';\r\n//import axios from 'axios';\r\nimport React, { Component } from \"react\";\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nimport './Demandes.css';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\nexport default class Demandes extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\t\t\r\n\t\tthis.state = {\r\n            message: \"\",\r\n\t\t\tdemandes: undefined,\r\n\t\t\tactivePage: 1,\r\n\t\t\tnbTotalElement: 0,\r\n        };\r\n\t}\r\n\t\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tif(!this.state.demandes)\r\n\t\t{\r\n\t\t\tthis.getDemandes(1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync getDemandes(ev)\r\n\t{\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = undefined;\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\toptionReq = {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\turl: '/users/user/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(user)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(user.demandes)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.setState({ demandes: user.demandes })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(Number(err.response.status) == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(Number(err.response.status) == 500)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync acceptDemande(ev, demande)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = undefined;\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\toptionReq = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\tdata:\r\n\t\t\t\t{\r\n\t\t\t\t\tid: demande._id\r\n\t\t\t\t},\r\n\t\t\t\turl: '/users/acceptAbonement/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({ demandes: user.demandes })\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(Number(err.response.status) == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(Number(err.response.status) == 500)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync refuseDemande(ev, demande)\r\n\t{\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tvar optionReq = undefined;\r\n\t\t\r\n\t\tif(token){\r\n\t\t\t\r\n\t\t\toptionReq = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders:{\r\n\t\t\t\t\tAuthorization: \"Bearer \" +token\r\n\t\t\t\t},\r\n\t\t\t\tdata:\r\n\t\t\t\t{\r\n\t\t\t\t\tid: demande._id,\r\n\t\t\t\t},\r\n\t\t\t\turl: '/users/declineAbonement/'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\t\r\n\t\t\t\tif(res){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res.data)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst user = res.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState({ demandes: user.demandes })\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (err)\r\n\t\t\t{\r\n\t\t\t\tif(err.response)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(Number(err.response.status) == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL + \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(Number(err.response.status) == 500)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetButtons(demande) {\r\n\t\tvar comp = <div/>;\r\n\t\t\r\n\t\tcomp = (<div className=\"button_action_demande\">\r\n\t\t\t<button className=\"btn btn-info btn-block button_accepter_demande\" onClick={(ev, dem) => this.acceptDemande(ev, demande)}>Accepter</button>\r\n\t\t\t<br />\r\n\t\t\t<button className=\"btn btn-info btn-block button_refuser_demande\" onClick={(ev, dem) => this.refuseDemande(ev, demande)}>Refuser</button>\r\n\t\t</div>);\r\n\t\t\t\r\n\t\treturn comp;\r\n\t\t\r\n\t}\r\n\t\r\n\tshowListDemandes()\r\n\t{\r\n\t\tconst context = this;\r\n\t\t\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.demandes && this.state.demandes.length > 0)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"errorMessage\">{this.state.message}</div>\r\n\t\t\t\t\t<div className=\"list_demandes\">\r\n\t\t\t\t\t{context.state.demandes.map(function (demande) {\r\n\t\t\t\t\t\tconst url = process.env.PUBLIC_URL + \"/profil/\" + demande._id\r\n\t\t\t\t\t\treturn (<div className=\"demande_element\">\r\n\t\t\t\t\t\t\t<img className=\"photo_profil\" src={\"https://zzinsta.herokuapp.com/\" + demande.image} alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"demande_element2\">\r\n\t\t\t\t\t\t\t\t<a href={url}>\r\n\t\t\t\t\t\t\t\t\t{demande.username}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{demande.email}\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{context.getButtons(demande)}\r\n\t\t\t\t\t\t</div>);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (<div className=\"message_empty\">\r\n\t\t\t\tAucune demande n'a été trouvée\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\t\r\n        return comp;\r\n\t}\r\n\t\r\n\trender()\r\n\t{\r\n\t\treturn this.showListDemandes();\r\n\t}\r\n}","// JavaScript source code\r\nimport axios from '../url/url_bdd';\r\nimport React from \"react\";\r\nimport './AuthRouter.css';\r\nimport ImagesUploader from 'react-images-upload';\r\nimport User from './User';\r\nimport logo from '../assets/logo_transparent.png';\r\nimport {\r\n    BrowserRouter as Router\r\n} from 'react-router-dom';\r\n\r\nconst jwt = require('jsonwebtoken');\r\n\r\nexport default class AuthRouter extends Router {\r\n    constructor(props) {\r\n        super(props);\r\n\t\t//localStorage.clear();\r\n        this.state = {\r\n            auth: props.authentified,\r\n\t\t\tinput_user_name: \"\",\r\n            input_description: \"\",\r\n            input_email: \"\",\r\n            input_pwd: \"\",\r\n\t\t\tinput_image: undefined,\r\n\t\t\tmessage: \"\",\r\n\t\t\tcreationUser: props.signup\r\n        };\r\n    }\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tif(token){\r\n\t\t\twindow.location = process.env.PUBLIC_URL + \"/profil/\";\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tasync login() {\r\n\t\t\r\n\t\tvar optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\temail: this.state.input_email,\r\n\t\t\t\tpassword: this.state.input_pwd\r\n\t\t\t},\r\n\t\t\turl: '/users/login/'\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconst res = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(res && res.data){\r\n\t\t\t\t\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem(\"token\", token)\r\n\t\t\t\t\r\n\t\t\t\tthis.setState({ auth: true });\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.setState({ message: \"Erreur données reçues\" });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\t\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.data.massage)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setState({ message: err.response.data.massage });\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setState({ message: err.response.data });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message: err.response });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.setState({ message: \"erreur\" });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n    changeMail(ev) {\r\n\t\tthis.setState({ input_email: ev.target.value});\r\n        //this.state[\"input_email\"] = ev.target.value;\r\n    }\r\n\r\n    changePwd(ev) {\r\n\t\tthis.setState({ input_pwd: ev.target.value});\r\n        //this.state[\"input_pwd\"] = ev.target.value;\r\n    }\r\n\t\r\n\tgetImage(ev, img, context) {\r\n\r\n\t\tcontext.setState({\r\n\t\t  input_image: img[0]\r\n\t\t});\r\n\t}\r\n\t\r\n\tshowImage()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.input_image)\r\n\t\t{\r\n\t\t\tcomp = <img className=\"apercuImage\" src={this.state.input_image}/>\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\r\n    authUser(ev, context) {\r\n\t\tev.preventDefault();\r\n\t\tcontext.login();\r\n    }\r\n\t\r\n\tasync createUser(ev, context){\r\n\t\tev.preventDefault();\r\n\t\t\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\r\n\t\tconst formDatas = new FormData(ev.target);\r\n\t\t\r\n\t\tconst optionReq = {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t},\r\n\t\t\tdata: formDatas,\r\n\t\t\turl: '/users/signup'\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconst resp = await axios(optionReq);\r\n\t\t\t\r\n\t\t\tif(resp){\r\n\t\t\t\t\r\n\t\t\t\tconst user = resp.data.user;\r\n\t\t\t\t\t\r\n\t\t\t\t//context.login();\r\n\t\t\t\t\r\n\t\t\t\twindow.alert(\"Votre compte a bien été créé\");\r\n\t\t\t\twindow.location = process.env.PUBLIC_URL;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tif(err.response)\r\n\t\t\t{\r\n\t\t\t\tif(err.response.data && err.response.data.message)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(err.response.status == 401){\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\t\t\twindow.location = process.env.PUBLIC_URL;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setState({ message: err.response.data.message });\r\n\t\t\t\t\t\tconsole.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setState({ message: err.response });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tgetChoicePrivacy()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.input_is_private)\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"select_privacy\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"public\" name=\"status\" value=\"public\"\r\n\t\t\t\t\t\t\tonChange={(ev) => { this.changePrivacy(ev) }} />\r\n\t\t\t\t\t\t<label>Public</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"private\" name=\"status\" value=\"private\"\r\n\t\t\t\t\t\t\tchecked onChange={(ev) => { this.changePrivacy(ev) }} />\r\n\t\t\t\t\t\t<label>Privée</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcomp = (\r\n\t\t\t\t<div className=\"select_privacy\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"public\" name=\"status\" value=\"public\"\r\n\t\t\t\t\t\t\tonChange={(ev, context) => {this.changePrivacy(ev, this)}} />\r\n\t\t\t\t\t\t<label>Public</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"private\" name=\"status\" value=\"private\"\r\n\t\t\t\t\t\t\t onChange={(ev, context) => {this.changePrivacy(ev, this)}} />\r\n\t\t\t\t\t\t<label>Privée</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tchangePrivacy(ev)\r\n\t{\r\n\t\tif (ev.target.value == \"private\")\r\n\t\t{\r\n\t\t\tthis.setState({ privacy: true });\r\n\t\t}\r\n\t\telse if (ev.target.value == \"public\")\r\n\t\t{\r\n\t\t\tthis.setState({ privacy: false });\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetErrorMessage()\r\n\t{\r\n\t\tvar comp = undefined;\r\n\t\t\r\n\t\tif(this.state.message && this.state.message != \"\")\r\n\t\t{\r\n\t\t\tcomp = <div className=\"error_message\">{this.state.message}</div>\r\n\t\t}\r\n\t\t\r\n\t\treturn comp;\r\n\t}\r\n\t\r\n\tactiveCreation(ev, context){\r\n\t\tcontext.state[\"message\"] = \"\";\r\n\t\tcontext.setState({ creationUser:true });\r\n\t}\r\n\t\r\n\tdesactiveCreation(ev, context){\r\n\t\tcontext.state[\"message\"] = \"\";\r\n\t\tcontext.setState({ creationUser:false });\r\n\t}\r\n\t\r\n\tgetAutComp()\r\n\t{\r\n\t\treturn(<div className=\"login\">\r\n\t\t\t<div className=\"blank\">\r\n\t\t\t\t<img src={logo} alt=\"logo\" className=\"logo\"/>\r\n\t\t\t</div>\r\n\t\t\t\t<form className=\"text-center border border-light p-5\" onSubmit={(ev, context) => this.authUser(ev, this)}>\r\n\r\n\t\t\t\t\t<p className=\"h4 mb-4\">Connexion</p>\r\n\r\n\t\t\t\t\t<input type=\"email\" \r\n\t\t\t\t\t\tid=\"defaultLoginFormEmail\" \r\n\t\t\t\t\t\tclassName=\"form-control mb-4\" \r\n\t\t\t\t\t\tplaceholder=\"E-mail\"\r\n\t\t\t\t\t\tonChange={(ev) => { this.changeMail(ev); } }\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input type=\"password\"\r\n\t\t\t\t\t\tid=\"defaultLoginFormPassword\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\tplaceholder=\"Mot de passe\" \r\n\t\t\t\t\t\tonChange={(ev) => { this.changePwd(ev); } }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{this.getErrorMessage()}\r\n\r\n\t\t\t\t\t<button className=\"btn btn-info btn-block my-4\" type=\"submit\">Connexion</button>\r\n\r\n\t\t\t\t\t<p>Pas encore membre?<br />\r\n\t\t\t\t\t\t<a href=\"/InstaZZ-front/auth/signup\">S'inscrire</a>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\t\r\n\t}\r\n\t\r\n\tgetCreateUser()\r\n\t{\r\n\t\tconst context = this;\r\n\t\treturn(\r\n\t\t\t<div className=\"signup\">\r\n\t\t\t\t<form className=\"text-center border border-light p-5\" onSubmit={(ev, context) => this.createUser(ev, this)}>\r\n\r\n\t\t\t\t\t<p className=\"h4 mb-4\">S'inscrire</p>\r\n\r\n\t\t\t\t\t<div className=\"form-row mb-4\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t\tid=\"defaultRegisterFormLastName\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Pseudo\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<ImagesUploader\r\n\t\t\t\t\t\tname=\"profileImage\"\r\n\t\t\t\t\t\twithIcon={true}\r\n\t\t\t\t\t\tmultiple={false}\r\n\t\t\t\t\t\toptimisticPreviews\r\n\t\t\t\t\t\tbuttonText='Chargez une image'\r\n\t\t\t\t\t\tonChange={(ev, img) => this.getImage(ev, img, this)}\r\n\t\t\t\t\t\timgExtension={['.jpg', '.gif', '.png', '.gif']}\r\n\t\t\t\t\t\tmaxFileSize={5242880}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.showImage()}\r\n\r\n\t\t\t\t\t<input type=\"email\"\r\n\t\t\t\t\t\tid=\"defaultRegisterFormEmail\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"E-mail\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tid=\"defaultRegisterFormPassword\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Mot de passe\"\r\n\t\t\t\t\t\taria-describedby=\"defaultRegisterFormPasswordHelpBlock\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"defaultRegisterFormPasswordHelpBlock\" className=\"form-text text-muted mb-4\">\r\n\t\t\t\t\t\tAt least 8 characters and 1 digit\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid=\"input_text_commentaire\"\r\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\r\n\t\t\t\t\t\tname=\"bio\"\r\n\t\t\t\t\t\trows=\"3\" cols=\"25\"\r\n\t\t\t\t\t\tplaceholder=\"Parlez de vous...\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{context.getChoicePrivacy()}\r\n\t\t\t\t\t<button className=\"btn btn-info my-4 btn-block\" type=\"submit\">Sign in</button>\r\n\t\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\r\n    render() {\r\n        var comp;\r\n        if (!this.state.auth) {\r\n\t\t\tif(this.state.creationUser){\r\n\t\t\t\tcomp = this.getCreateUser();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcomp = this.getAutComp();\r\n\t\t\t}\r\n        }\r\n        else {\r\n            comp = (<User/>);\r\n        }\r\n\r\n        return comp;\r\n    }\r\n}","import React from 'react';\r\nimport logo from './assets/logo_transparent.png';\r\nimport './App.css';\r\nimport dotenv from \"dotenv\";\r\nimport Publication from \"./composants/Publication\";\r\nimport ListPublications from \"./composants/ListPublications\";\r\nimport User from \"./composants/User\";\r\nimport Users from \"./composants/Users\";\r\nimport Demandes from \"./composants/Demandes\";\r\nimport AuthRouter from \"./composants/AuthRouter\";\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\n\r\nconst base_url = process.env.PUBLIC_URL;\r\n\r\nconst Index = () =>  <Publication/>;\r\nconst About = () =>  <h2>About</h2>;\r\nvar users_list = () =>  <Users list_type=\"research\"/>;\r\nvar users_list_abonnees = () =>  <Users list_type=\"abonnes\"/>;\r\nvar users_list_abonnements = () =>  <Users list_type=\"abonnements\"/>;\r\nvar users_list_demandes = () =>  <Demandes />;\r\nconst user_profil = () =>  <User />;\r\nconst posts_list = () =>  <ListPublications on_mur={true}/>;\r\nconst new_post = () => <Publication modifiable={true} />;\r\nconst auth = () => <AuthRouter authentified={false} signup={false} />;\r\nconst auth_signup = () => <AuthRouter authentified={false} signup={true} />;\r\n\r\n\r\n//var textRech = \"\";\r\n\r\nfunction setText(ev) {\r\n\tlocalStorage.setItem(\"token_search\", ev.target.value)\r\n}\r\n\r\nfunction search(ev) {\r\n\twindow.location = base_url + \"/users/\";\r\n}\r\n\r\nfunction deconnexion(ev){\r\n\tlocalStorage.removeItem(\"token\");\r\n\twindow.location = base_url;\r\n}\r\n\r\nfunction App() {\r\n\tdotenv.config();\r\n\tconst base_path = \"/InstaZZ-front\";\r\n  return (\r\n    <Router>\r\n     <div>\r\n     <Navbar bg=\"dark\" variant=\"dark\">\r\n\t\t<a href={base_url + \"/\"}>\r\n\t\t\t<img src={logo}\r\n\t\t\t\talt=\"InstaZZ\" id=\"logo\"/>\r\n\t\t</a>\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link href={process.env.PUBLIC_URL + \"/profil/\"} >Profil</Nav.Link>\r\n          <Nav.Link href={process.env.PUBLIC_URL + \"/posts/\"} >Mur</Nav.Link>\r\n          <Nav.Link href={process.env.PUBLIC_URL + \"/users/demandes\"} >Demandes</Nav.Link>\r\n        </Nav>\r\n        <Form inline>\r\n          <FormControl type=\"text\" placeholder=\"Cherchez un utilisateur\" className=\"mr-sm-2\" onChange={setText}/>\r\n          <Button variant=\"outline-info\" onClick={search}>Rechercher</Button>\r\n        </Form>\r\n\t\t<Button variant=\"outline-info\" id=\"deconnexion\" onClick={deconnexion}>Deconnexion</Button>\r\n\t\t\r\n      </Navbar>\r\n       <Switch>\r\n\t\t <Route path={base_path + \"/\"} exact component={auth}/>\r\n\t\t <Route path={base_path + \"\"} exact component={auth}/>\r\n\t\t <Route path={base_path + \"/auth/signup\"} component={auth_signup}/>\r\n         <Route path={base_path + \"/auth/\"} component={auth}/>\r\n         <Route path={base_path + \"/about/\"} component={About}/>\r\n         <Route path={base_path + \"/profil/:idUser\"} component={User}/>\r\n         <Route path={base_path + \"/profil/\"} component={user_profil}/>\r\n         <Route path={base_path + \"/users/demandes\"} component={users_list_demandes}/>\r\n         <Route path={base_path + \"/users/abonnements\"} component={users_list_abonnements}/>\r\n         <Route path={base_path + \"/users/abonnes\"} component={users_list_abonnees}/>\r\n         <Route path={base_path + \"/users/\"} component={users_list}/>\r\n         <Route path={base_path + \"/posts/\"} component={posts_list}/>\r\n\t\t <Route path={base_path + \"/addpost/\"} component={new_post}/>\r\n       </Switch>\r\n\r\n     </div>\r\n   </Router>\r\n );\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo_transparent.3a50b41b.png\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}